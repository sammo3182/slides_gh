<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Quasi-Experiment: Large-N Analysis</title>
    <meta charset="utf-8" />
    <meta name="author" content="Yue HU" />
    <script src="10_largeN_files/header-attrs-2.7/header-attrs.js"></script>
    <link href="10_largeN_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="10_largeN_files/tile-view-0.2.4/tile-view.css" rel="stylesheet" />
    <script src="10_largeN_files/tile-view-0.2.4/tile-view.js"></script>
    <link href="10_largeN_files/tachyons-4.12.0/tachyons.min.css" rel="stylesheet" />
    <link href="10_largeN_files/panelset-0.2.4/panelset.css" rel="stylesheet" />
    <script src="10_largeN_files/panelset-0.2.4/panelset.js"></script>
    <script src="10_largeN_files/js-cookie-3.0.0/js.cookie.js"></script>
    <script src="10_largeN_files/peerjs-1.3.1/peerjs.min.js"></script>
    <script src="10_largeN_files/tiny.toast-1.0.0/toast.min.js"></script>
    <link href="10_largeN_files/xaringanExtra-broadcast-0.2.4/broadcast.css" rel="stylesheet" />
    <script src="10_largeN_files/xaringanExtra-broadcast-0.2.4/broadcast.js"></script>
    <script src="10_largeN_files/xaringanExtra_fit-screen-0.2.4/fit-screen.js"></script>
    <script src="10_largeN_files/kePrint-0.0.1/kePrint.js"></script>
    <link href="10_largeN_files/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="zh-CN_custom.css" type="text/css" />
    <link rel="stylesheet" href="style_ui.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Quasi-Experiment: Large-N Analysis
## Understanding Policies: Perspectives and Case (10700193)
### Yue HU
### Political Science, Tsinghua University

---




background-image: url("images/cha_challenge.gif")
background-position: center
background-size: contain

---

## Overview


.pull-left[
+ What &amp; why
    + Large-N
    + Why large?
    + How large?
]

.pull-right[
+ How
    + Univariate
    + Bivariate
    + Multivariate
]

.center[&lt;img src="images/lar_econometrics.jpg" height = 300 /&gt;]

---

class: inverse, bottom

# Large-N Analysis

---

## What's Large-N Analyses

+ Large N vs. Small N
+ Coherent observations (e.g. citizens, states)
+ Average ("Get the mean right is good.")

---

## Why Not Experiments?

.pull-left[
### Experiment is powerful!

+ Excluding confounders
+ Clear outcomes
+ Clear causal chain
]
--

.pull-right[
### However,

1. .red[Not always] practical
1. .blue[Easy] to collect observed data
1. .blue[Well-developed] methods
]
---

## Why .red[Large]-N Works?

.pull-left[
Come on, my highly-educated fellows!

Let's play a .orange[happy-happy] kid game:

]

.pull-right[
### Step 1: Toss a fair coin

+ Head: 1 step to the .blue[&amp;larr;]
+ Tail: 1 step to the .red[&amp;rarr;]

### Step 2: Toss six times

### Step 3: Going forward
]

---

&lt;video width="700" height="600" controls&gt;
    &lt;source src="images/lar_normalDistribution_bbc" type="video/mp4"&gt;
&lt;/video&gt;

---

.bg-black.golden.ba.shadow-5.ph4.mt3[
As the number of experiments (sample) increases, the ratio of outcomes will converge to the theoretical (population) average.

.tr[
---"Law of Large Numbers"
]
]

???

Using sample to estimate population

--

.bg-black.golden.ba.shadow-5.ph4.mt3[
The sampling distribution of the sample means approaches a normal distribution as the sample size gets larger.

.tr[
---"Central Limit Theorem"
]
]

???

Why using normal distribution

---

## How Large Is Large?

* Rule of thumb: &gt; 100 ~ 200

--

But really?

.center[&lt;img src="images/lar_largeNumber.gif" height = 350 /&gt;]

---

class: inverse, bottom

* Univariate analysis
* Bivariate analysis
* Multivariate analysis

# Large-N Approaches

---

## Univariate analysis

.pull-left[
.center[&lt;img src="images/lar_watchingShows.gif" height = 300 /&gt;]
]

.pull-right[
&lt;table class="table" style="font-size: 25px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;"&gt; Student_ID &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Episodes &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2021097963 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2021091648 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2021097782 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2021093288 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2021093709 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2021091864 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2021094798 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

???

Let's say we'll test a school policy of Internet access management. 
To do so, researchers surveyed a dorm room, asking the members how many shows they watched in the past week.

---

## How to Describe This Variable

+ Given the list: (1, 1, 1, 2, 3, 3, 4)

--

+ Mean: `\(\frac{1 + 1 + 1 + 2 + 3 + 3 + 4}{7} = \frac{15}{7} \approx 2.143.\)`

--

+ Median: 1, 1, 1, .magenta[2], 3, 3, 4

--

+ Mode: three .magenta[1]s, one 2, two 3s, and one 4.

---

## Mean, Median, or Mode?

&lt;img src="10_largeN_files/figure-html/distribution-1.png" style="display: block; margin: auto;" /&gt;

---

class: small

## Descriptive Statistics

<div class="container st-container"><table class="table table-striped table-bordered st-table st-table-striped st-table-bordered st-multiline ">
  <thead>
    <tr>
      <th align="center" class="st-protect-top-border"><strong>No</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Variable</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Stats / Values</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Freqs (% of Valid)</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Graph</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">1</td>
      <td align="left">gender
[factor]</td>
      <td align="left">1. F
2. M</td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">489</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">50.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">489</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">50.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent"><img style="border:none;background-color:transparent;padding:0" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEQAAAAqBAMAAAD4w+CrAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5QQYBisIllbwyAAAACxJREFUOMtjYBhcQAkPgCpRNsYJjEaVDCclRCQGQTyAeCWjqW5UCSmpbrAAAIY8rO1w98oGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA0LTI0VDA2OjQzOjA4KzAwOjAwOjWKqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNC0yNFQwNjo0MzowOCswMDowMEtoMhcAAAAASUVORK5CYII="></td>
    </tr>
    <tr>
      <td align="center">2</td>
      <td align="left">BMI
[numeric]</td>
      <td align="left">Mean (sd) : 25.7 (4.5)
min < med < max:
8.8 < 25.6 < 39.4
IQR (CV) : 5.7 (0.2)</td>
      <td align="left" style="vertical-align:middle">974 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent"><img style="border:none;background-color:transparent;padding:0" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHQAAABUBAMAAAChGA4iAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5QQYBisIllbwyAAAAKBJREFUWMPt1tsNgCAMBVBW0A0sG9j9dxMFRRGUEo0PbsOfnJDYQq5SdVWTqpaIuvinU8rMoKABTQxUDtXxg++i4+yXUuYeFBT0a9TceSqkZvU/pvY5LKOTe5yGrRXQ8GBQUNALKc2vi5zq2V1GNxlVRjfhGPQJarpXStdbX0L9LIqpT0Kfp61t6iF10W1Hg60x6tKBo8svz6VmeSouVVcNNvalfxygYbMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDQtMjRUMDY6NDM6MDgrMDA6MDA6NYqrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA0LTI0VDA2OjQzOjA4KzAwOjAwS2gyFwAAAABJRU5ErkJggg=="></td>
    </tr>
    <tr>
      <td align="center">3</td>
      <td align="left">disease
[character]</td>
      <td align="left">1. Hypertension
2. Cancer
3. Cholesterol
4. Heart
5. Pulmonary
6. Musculoskeletal
7. Diabetes
8. Hearing
9. Digestive
10. Hypotension
[ 3 others ]</td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">36</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">16.2%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">34</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">15.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">21</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">9.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">20</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">9.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">20</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">9.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">19</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">8.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">14</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">6.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">14</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">6.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">12</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">5.4%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">11</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">5.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">21</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">9.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent"><img style="border:none;background-color:transparent;padding:0" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAB8AAADKBAMAAACvc4aWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5QQYBisIllbwyAAAAHxJREFUSMftlVEKgCAQRD2Ce4OsG2z3v1sQWrJTtKFfjvP5wJF5IIbQJ2vJksG251AAmC8l8Q1cR6IpVQoA853GUgXO0lEBrP0WNI39NcYlqJsxMaVKA2C+z5iYUuUBMH8aaxb0ZCzZW8YFsNYlSEypEgGY73uE82u8QWsO6mPrihDsgBYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDQtMjRUMDY6NDM6MDgrMDA6MDA6NYqrAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA0LTI0VDA2OjQzOjA4KzAwOjAwS2gyFwAAAABJRU5ErkJggg=="></td>
    </tr>
  </tbody>
</table></div>

---

## Binary Analysis

Relations between variables

&lt;img src="10_largeN_files/figure-html/scatter-1.png" style="display: block; margin: auto;" /&gt;

---

## Multivariate Analysis

.pull-left[&lt;img src="images/lab_buyerSeller.jpg" height = 450 /&gt;]
.pull-right[&lt;img src="images/lab_matching.png" height = 450 /&gt;]

.center[Hnit: That's what the ".blue[control]" means.]

---

## In Practice

.pull-left[&lt;img src="images/table.png" height = 550 /&gt;]

.pull-right[
+ Coefficients

+ Uncertainty

+ Significance

+ Goodness of fit

Hint: Wonder how to conduct such analysis?

Ta-da~~~

.green["Ê≤ªÁêÜÊäÄÊúØ‰∏ìÈ¢òÔºöÊîøÊ≤ªÊï∞ÊçÆÂàÜÊûê" (70700173)]
]

---

## Take-Home Points

+ When large-N: When experiments are not available
+ Why large-N: 
    + Law of Large Number
    + Central Limit Theorem
+ How large? 100 ~ 1000
+ Ways: 
    + Univariate
    + Bivariate
    + Multivariate
    
--

Again,

.large[.green["Ê≤ªÁêÜÊäÄÊúØ‰∏ìÈ¢òÔºöÊîøÊ≤ªÊï∞ÊçÆÂàÜÊûê" (70700173)] üòã]


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"highlightSpans": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
