---
title: "æ•°æ®å¯è§†åŒ–ç†è®ºä¸å®è·µ"
subtitle: "æ”¿åŠ¡å¤§æ•°æ®åº”ç”¨ä¸åˆ†æ (80700673)"
author: "èƒ¡æ‚¦"
institute: "æ¸…åå¤§å­¦" 
knitr: 
    opts_chunk: 
      echo: false
format: 
  revealjs:
    
    css: https://sammo3182.github.io/slides_gh/css/style_basic.css
    theme: ../../../css/goldenBlack.scss
    slide-number: true
    incremental: true
    preview-links: true # open an iframe for a link
    link-external-newwindow: true
    self-contained: false
    chalkboard: false # allwoing chalk board B, notes canvas C
    # callout-icon: false
    show-slide-number: all # `speaker` only print in pdf, `all` shows all the time
    title-slide-attributes:
      data-background-image: https://gitlab.com/sammo3182/backup/raw/85b3c1ad4b459d7a9f901f124b936428eda5fcaf/logo_THPS.png?inline=true
      data-background-size: 250px   
      data-background-position: top 10% right 5%
    default-image-extension: png
revealjs-plugins:
  - spotlight
lightbox: 
  match: auto
  effect: fade
spotlight:
  size: 50
  presentingCursor: default
  toggleSpotlightOnMouseDown: false
  spotlightOnKeyPressAndHold: 73 # keycode for "i"
editor_options: 
  chunk_output_type: console
---

```{r setup}
#| include = FALSE

library(pacman)

p_load(
  knitr,
  RColorBrewer,
  dotwhisker,
  interplot,
  modelsummary,
  # dependency
  stringr,
  haven,
  purrr,
  broom,
  
  tidyr,
  tidyverse
) # data wrangling # data wrangling

# Functions preload
set.seed(313)

theme_set(
  theme_minimal(base_size = 18)
)

theme_update(
  plot.title = element_text(size = 18), 
  axis.title = element_text(size = 22), 
  axis.text = element_text(size = 18)
)
```

## æ¦‚è¦

::::{.columns style="text-align:center; margin-top: 2em"}
:::{.column width="50%" .fragment}
### å¯è§†åŒ–ç†è®º

+ åŸºæœ¬åŠŸèƒ½
+ ç»Ÿè®¡å¯è§†åŒ–åŸºæœ¬åŸåˆ™
:::

:::{.column width="50%" .fragment}
### å¯è§†åŒ–å·¥å…·

+ å¯è§†åŒ–ç¼–ç 
+ å¯è§†åŒ–é€šé“
:::
::::

:::{.fragment style="text-align:center"}
### å¯è§†åŒ–æ“ä½œ
:::

# å¯è§†åŒ–ç†è®º

## å¯è§†åŒ–åŸºæœ¬åŠŸèƒ½

:::{.r-stack}
- è®°å½•ä¿¡æ¯
- åˆ†ææ¨ç†
- è¯å®å‡è®¾
- äº¤æµæ€æƒ³

![](https://drhuyue.site:10002/sammo3182/figure/vis_socialEngineer.jfif){.fragment height=600}
:::

## How about tables?

::::{.columns style="text-align:center; margin-top: 2em"}
:::{.column width="50%" .fragment}
**è¡¨ä¹‹ä¼˜åŠ¿**

* å®¹æ˜“åˆ¶ä½œ
* å‘è¡¨å¸¸è§
* æœ‰åŠ©åç»­
:::

:::{.column width="50%" .fragment}
**å›¾ä¹‹åŠ£åŠ¿**

* åˆ¶ä½œè´¹äº‹
* â€œä¸ç²¾ç¡®â€
* å½¢å¼ä¸ç»Ÿä¸€
:::
::::

::: {.r-fit-text .fragment}
é‚£è¿˜å¯è§†åŒ–ä¸ªå–µï¼Ÿ
:::

## A Picture Is Worth a Thousand Words

:::{.r-stack}
> Even before he became president, Mr Trump had *a history of controversial comments* about women. His comments in a 2005 Access Hollywood tape about grabbing women *"by the pussy"* are perhaps the most notorious, and made headlines in 2016....."The kind of things that he said about Hillary Clinton, Carly Fiorina, Elizabeth Warren, Heidi Cruz---the list goes on---he talks about women, any prominent, powerful woman, in the most DEMEANING of ways, trivializing them."

![](https://drhuyue.site:10002/sammo3182/figure/vis_trumpNastyWoman.gif){.fragment height="600"}
:::

:::{.notes}
1. People care about things big, colorful, and moving.
1. ä¾¿äºæ¯”è¾ƒ
1. æ¯”è¡¨æ ¼å æ®è¾ƒå°çš„ç‰ˆé¢
1. è®°å¿†æ·±åˆ»

Watch Donald Trump Call Hillary Clinton a 'Nasty Woman' --Ritu Prasad BBC
https://time.com/4537960/donald-trump-hillary-clinton-nasty-woman-debate/

:::

## å¯è§†åŒ–ä¸äººç±»æŠ€æœ¯å‘å±•

[Friendly, Michael, and Howard Wainer. 2021. *A History of Data Visualization and Graphic Communication*. Harvard University Press.](https://datavis.ca/milestones/index.php)

![](https://drhuyue.site:10002/sammo3182/figure/vis_history.png){height=500}

:::{.notes}
- Topographical map: åœ°å½¢å›¾ï¼Œç­‰é«˜çº¿å›¾
- Bar invented: æ¸…ä¹¾éš†äº”åä¸€å¹´
- Word cloud: 2002å¹´å‘æ˜
- `ggplot2`: 2006å¹´ï¼Œä¹‹ååŸºæœ¬æ²¡æœ‰æ–°çš„å¯è§†åŒ–ç±»å‹é—®ä¸–
:::

## å¯è§†åŒ–åœ¨â€œè§†â€ä»€ä¹ˆï¼Ÿ

APSRï¼ŒAJPSå’ŒPA 2006å¹´äº”åˆŠï¼Œå‘ç°å¦‚ä¸‹ç»“æœ:^[Kastellec, Jonathan P., and Eduardo L. Leoni. 2007. â€œUsing Graphs Instead of Tables in Political Science.â€ *Perspectives on Politics* 5(4): 755â€“71.]

![](https://drhuyue.site:10002/sammo3182/figure/vis_graphTable.png)

## ä¸“å®¶ä¸¾ä¾‹ï¼ˆä¸‘ğŸ˜±ï¼Ÿï¼‰

![](https://drhuyue.site:10002/sammo3182/figure/vis_tableGraph.png){height=600}

:::{.notes}
æœ‰äººè¯´å¾ˆä¸‘ï¼Œä½†ä¸ºä»€ä¹ˆç”»å›¾ä¸“å®¶å–œæ¬¢è¿™ä¸ªï¼Ÿæˆ‘ä»¬ä¹‹åä¼šå›æ¥è®²
:::

## ç²¾ç¡® vs. çœ¼çƒ

:::{.r-hstack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_sexism_chart.jpg){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_sexism_image.jpg){.fragment height=600}
:::

## å¦ä¸€ç»„ä¾‹å­

:::{.r-hstack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_africanGDP_image.jpg){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_africanGDP_chart.jpg){.fragment height=600}
:::


## åšçœ¼çƒæœ‰ä»€ä¹ˆé”™

:::{.r-hstack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_femaleHi_image.png){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_femaleHi_chart.png){.fragment height=600}
:::

:::{.notes}
å·¦å›¾å¤¸è£…äº†æ•°æ®æœ¬æ„ï¼Œindianå¤ªå°äº†

https://junkcharts.typepad.com/junk_charts/2021/06/start-at-zero-improves-this-chart-but-only-slightly.html
:::

---

:::{style="text-align:center; margin-top: 4em"}

[å¯è§†åŒ–åŸåˆ™1]{.huge}

[å‡†ç¡®]{.Huge .red}

:::


## å¸¸è§å¯è§†åŒ–å½¢å¼

:::{.r-stack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_pie1.png){height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_pie2.png){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_pie3.png){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_pie5.png){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_pie4.png){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_pie6.png){.fragment height=600}
:::

:::{.notes}
å“ªä¸€å—æœ€å¤§ï¼Ÿæ©˜çº¢è‰²ï¼Ÿå®é™…æ˜¯ç»¿è‰²; äººç±»å¯¹äºé¢ç§¯æ˜¯å°¤ä¸ºä¸æ•æ„Ÿçš„ã€‚

æ ‡å‡ºæ•°å­—å‘¢â€¦â€¦å¦‚æœæ ‡å‡ºæ•°æ®ï¼Œé‚£è¿˜è¦å›¾å¹²ä»€ä¹ˆ

3Dåœ†é¥¼å›¾å“ªä¸€ä¸ªæœ€å¤§ï¼Ÿæ›´æ¨¡ç³Šï¼Œè€Œä¸”å¤šäº†ä¸€ä¸ªæ²¡æœ‰ä»»ä½•æ„ä¹‰çš„ç»´åº¦
:::

## é¥¼çŠ¶å›¾

::::{.columns style="text-align:center"}
:::{.column width="50%" .fragment}

* ç”¨äºå‘ˆç°æ•°å­—å°±èƒ½å‘ˆç°çš„ä¸œè¥¿
* å®¹æ˜“è¯¯å¯¼è¯»è€…ï¼ˆäººç±»å¯¹é¢ç§¯ä¸æ•æ„Ÿï¼‰
* ä½¿ç”¨å¤šç§å›¾å½¢ç»„æˆè¦ç´ é‡å¤å‘ˆç°åŒä¸€ç§ä¿¡æ¯

:::

:::{.column width="50%" .fragment}

è‰è”[junk chart](http://junkcharts.com)ä¹‹å† 

â€œå›¾ä¸å¦‚è¡¨â€

:::
::::

:::{.fragment style="text-align:center"}
![](https://drhuyue.site:10002/sammo3182/figure/vis_wordCloud.jpg){height=400}
:::

:::{.notes}
è¯äº‘ç›¸é‚»çš„è¯å°±ä¼šåŒæ—¶å‡ºç°å—ï¼Ÿæ¯”ä¾‹å¤šå°‘
:::


## å¦‚æœéé¥¼ä¸å¯

```{r nightinggale}
#| fig-align: center
#| fig-height: 6

mydata <-
  data.frame(
    Day = c(
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday",
      "Sunday"
    ),
    Browse = c(50, 60, 70, 20, 90, 110, 30)
  )

ggplot(mydata) +
  geom_bar(
    aes(x = Day, y = Browse),
    width = 1,
    stat = "identity",
    colour = "black",
    fill = "#F8766D"
  ) +
  geom_text(aes(x = Day, y = Browse - 8, label = Browse), color = "white") +
  coord_polar(theta = "x", start = 0) +
  ylim(c(0, 120)) +
  xlab("") + ylab("") +
  theme_light() +
  theme(
    panel.background = element_blank(),
    panel.grid.major = element_line(colour = "grey80", size = .25),
    axis.text.y = element_text(size = 12, colour = "black"),
    axis.line.y = element_line(size = 0.25),
    axis.text.x = element_text(size = 13, colour = "black")
  )
```

:::{.notes}
Nightingale Rose diagram, created by the famous Florence Nightingale

Good for time series,save space than bars

é—®é¢˜åœ¨äºå¤§å°å’Œçªå‡ºä»£è¡¨åŒæ ·ä¿¡æ¯
:::

## Pie vs. Bar 

:::{.r-hstack}

![](https://drhuyue.site:10002/sammo3182/figure/vis_pie1.png){height=300}

![](https://drhuyue.site:10002/sammo3182/figure/vis_barPlot1.png){.fragment height=300}

:::

:::{.r-hstack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_barPlot2.png){.fragment height=300}

![](https://drhuyue.site:10002/sammo3182/figure/vis_barPlot3.png){.fragment height=300}
:::

:::{.notes}
1. bar plot, å¯ä»¥çœ‹å‡ºå¯¹æ¯”ï¼Œä½†é—®é¢˜åœ¨å“ªé‡Œï¼Ÿï¼ˆé¢œè‰²æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œå®½åº¦æ²¡æ„ä¹‰ï¼Œå¯¹ä¸å‡†ï¼‰
1. ç©ºbar
1. ç‚¹æœ€ç®€äº†ï¼Œä½†ä¿¡æ¯é‡ä»ç„¶æ¯”è¾ƒå°ï¼Œå¯ä»¥åŠ å…¥æ›´å¤šä¿¡æ¯
1. é€šè¿‡å¤šå›¾å¹¶åˆ—æ¥å¢åŠ è¡¨è¾¾ç»´åº¦ï¼Œå¹¶ä¸”æ–¹ä¾¿æ¯”è¾ƒï¼Œshare scales
    - çœ‹ä¼¼æ˜¯ä¸­å¿ƒè¾¹ç¼˜ç†è®ºï¼Œä½†ç”»é¢ä¹‹å¤–ç ”ç©¶è¡¨æ˜ï¼Œå¹¶éå¦‚æ­¤ã€‚
:::

---

:::{style="text-align:center; margin-top: 4em"}

[å¯è§†åŒ–åŸåˆ™2]{.huge}

[æç®€]{.Huge .red}

:::


## Call back

![](https://drhuyue.site:10002/sammo3182/figure/vis_tableGraph.png){height=600}


## ä¸€ç»´ &rarr; äºŒç»´

::::{.columns}
:::{.column width="50%"}

| Party 	| PRI  	| PAN  	| PRD  	| Others 	|
|-------	|------	|------	|------	|--------	|
| 1991  	| 64   	| 17.8 	| 8.2  	| 10     	|
| 1994  	| 60   	| 23.8 	| 14.2 	| 2      	|
| 1997  	| 47.8 	| 24.2 	| 25   	| 3      	|
| 2000  	| 42.2 	| 41.2 	| 10   	| 6.6    	|
| 2003  	| 44.8 	| 30.2 	| 19.4 	| 5.6    	|

Table: å¢¨è¥¿å“¥å„æ”¿å…šåœ¨å¤§é€‰ä¸­å¾—ç¥¨æ¯”ä¾‹è¶‹åŠ¿

:::{.fragment .fade-in-then-out}
å’Œä¹‹å‰çš„æ•°æ®æœ‰ä»€ä¹ˆä¸åŒï¼Ÿæƒ³è¡¨è¾¾ä»€ä¹ˆï¼Ÿ
:::
:::


:::{.column width="50%" .fragment}
**å †ç§¯å›¾**

![](https://drhuyue.site:10002/sammo3182/figure/vis_areaPlot.png){width=600}
:::
::::

:::{.notes}
+ å¤šç§å›¾åƒä¿¡æ¯è¡¨è¾¾åŒç±»ä¿¡æ¯
+ åœ¨å„æ—¶é—´ç‚¹ä¸Š, çœ‹ä¸å‡ºæ¯”ä¾‹å…³ç³»ï¼Œè¢«é¢ç§¯æ¨¡ç³Š
- é¢œè‰²é—®é¢˜ï¼šæ²¡æœ‰è¡¨è¾¾ä»»ä½•ä¿¡æ¯
- å¤šç§å›¾åƒä¿¡æ¯è¡¨è¾¾åŒç±»ä¿¡æ¯
- åœ¨å„æ—¶é—´ç‚¹ä¸Š, çœ‹ä¸å‡ºæ¯”ä¾‹å…³ç³»ï¼Œè¢«é¢ç§¯æ¨¡ç³Š
    - PAN + PRDæ˜¯ä¸æ˜¯è¶…è¿‡PRIå¾ˆéš¾åˆ¤æ–­
:::

## å…¶ä»–åŠæ³•

:::: {.columns}

::: {.column width="30%"}
![](https://drhuyue.site:10002/sammo3182/figure/vis_areaPlot.png){fig-align="center"}
:::

::: {.column width="70%"}
:::{.r-stack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_linePlot.png){.fragment height=500}

![](https://drhuyue.site:10002/sammo3182/figure/vis_linePlot2.png){.fragment height=500}
:::
:::

::::


:::{.notes}
Basic ç‰ˆæœ¬legendæ¯”è¾ƒå¤šä½™ï¼Œå¯¹æ‰“å°ä¸é‚£ä¹ˆå‹å¥½ï¼Œå½“ç„¶å¯¹ç›¸åŠ ç»“æœè¿˜æ˜¯ä¸æ˜¯é‚£ä¹ˆæ¸…æ¥š

è¡¨è¾¾çš„æ˜¯1997å¹´å¢¨è¥¿å“¥å®ç°æ°‘ä¸»è½¬å‹ï¼Œä¸æ˜¯ä¸€å…šæ‰§æ”¿
:::

## æç®€ä¸æ˜¯æœ€é«˜åŸåˆ™

:::: {.columns}

::: {.column width="50%"}
::: {.r-stack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_scatterPlot.png){.fragment height=500}

![](https://drhuyue.site:10002/sammo3182/figure/vis_scatterPlot2.png){.fragment height=500}
:::

:::{.notes}
ä¸­äº§å®¶åº­æ”¶å…¥è¶Šé«˜ï¼Œåœ¨åŠ³åŠ¨åŠ›å¸‚åœºæŠ•å…¥è¶Šå¤š

1. Stata åº•è‰²ï¼Œæ˜¯ä¸€ä¸ªæ ‡å¿—è‰²ï¼Œæ²¡æ•°æ®æ„ä¹‰ï¼Œåªæ˜¯ä¸ªbrandï¼› ç‚¹é‡å â€”â€”å¯ä»¥ç”¨ç©ºå¿ƒåœ†
1. è®©ç‚¹å˜å¾—æœ‰æ„ä¹‰ï¼ˆåœ¨stataé‡Œä¸æ˜¯é‚£ä¹ˆå®¹æ˜“åšåˆ°ï¼Œmaybeï¼‰
1. è®©å›¾å˜å¾—æ›´æœ‰æ„ä¹‰ï¼Œåœ°åŒºå˜åŒ–æ˜¯é‡è¦å˜é‡
:::
:::

::: {.column width="50%"}
![](https://drhuyue.site:10002/sammo3182/figure/vis_facet.png){.fragment fig-align="center" height=500}
:::

::::


---

:::{style="text-align:center; margin-top: 4em"}

[å¯è§†åŒ–åŸåˆ™3]{.huge}

[ä¸»åŠ¨]{.Huge .red}

:::


## äºŒç»´+

| å­¦ç”Ÿ 	| åŸå§‹æˆç»© 	| è¡¥ä¹ ç­å‘¨æ•° 	| è¿›æ­¥åˆ†æ•° 	|
|------	|----------	|------------	|----------	|
| A    	| 712      	| 18         	| 100      	|
| B    	| 1105     	| 4          	| 57       	|
| C    	| 690      	| 7          	| 80       	|
| D    	| 687      	| 27         	| 191      	|
| E    	| 725      	| 2          	| 5        	|
| F    	| 1200     	| 25         	| 10       	|
| G    	| 470      	| 19         	| 25       	|
| H    	| 752      	| 10         	| 123      	|
Table: è¡¥ä¹ ç­æœ‰æ•ˆå—ï¼Ÿ

::: {.fragment .r-fit-text}
å’Œä¹‹å‰çš„æ•°æ®æœ‰ä»€ä¹ˆä¸åŒï¼Ÿæƒ³è¡¨è¾¾ä»€ä¹ˆï¼Ÿæ€ä¹ˆå¯è§†åŒ–ï¼Ÿ
:::


## å¤šç»´æ•°æ®çš„äºŒä½å¯è§†åŒ–

:::{.r-hstack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_bubblePlot.png){.fragment height=400}

![](https://drhuyue.site:10002/sammo3182/figure/vis_bubblePlot2.png){.fragment height=400}
:::

:::{.notes}
æ¯”è¡¨å¥½ï¼Œé¢ç§¯ä¸å¥½ã€é¢œè‰²æ²¡æ„ä¹‰

Bubble chart å›¾ä¸€å¯¹å¤§å°ç›¸è¿‘bubblesæ— æ³•åŒºåˆ†
:::

::::{.columns}
:::{.column width="50%" .fragment}
**Pro**

* æ•£ç‚¹å›¾å˜å¼‚
* é€šè¿‡æ°”æ³¡å¤§å°å‘ˆç°ç¬¬ä¸‰ç»´åº¦æ•°æ®
:::

:::{.column width="50%" .fragment}
**Con**

* æ°”æ³¡å¤§å°å½“æ¥è¿‘æ—¶å¯èƒ½é€ æˆè¾¨è¯†å›°éš¾ï¼Œä¿¡æ¯æ— æ³•å®Œå…¨ç²¾ç¡®åœ°ä¼ è¾¾
:::
::::

## å°ç»“

:::: {.columns}

::: {.column width="50%"}
- â€œè¡¨åšå¾—æŒºå¥½çš„ï¼Œä¸‹æ¬¡ç”»ä¸ªå›¾å§â€
    - æŠ‰æ‹©ï¼šç²¾ç¡® vs. çœ¼çƒ
- å¯è§†åŒ–æ–¹å¼é€‰æ‹©
    - å¯¹äºé¥¼å›¾ï¼Œæˆ‘ä»¬çš„æ€åº¦æ˜¯ï¼Ÿ
    - å¯¹äºæŸ±çŠ¶å›¾ï¼Œæˆ‘ä»¬çš„æ€åº¦æ˜¯ï¼Ÿ
    - å¯¹äºç‚¹å’Œçº¿ï¼Œæˆ‘ä»¬çš„æ€åº¦æ˜¯ï¼Ÿ
- å¯è§†åŒ–åŸºæœ¬åŸåˆ™
    1. å‡†ç¡®ï¼šæ˜ç¡®è¡¨è¾¾é‡å·®å’Œå…³ç³»
    1. æç®€ï¼šæ²¡æœ‰å†—ä½™çš„ä¿¡æ¯å…ƒç´ 
    1. ä¸»åŠ¨ï¼šæˆ‘ä¸è¦ä½ è§‰å¾—ï¼Œæˆ‘è¦æˆ‘è§‰å¾—

:::{.notes}
- å¯¹äºé¥¼å›¾ï¼Œæˆ‘ä»¬çš„æ€åº¦æ˜¯ï¼Ÿ
    - å”¾å¼ƒä¹‹
    - å¿è®©ä¹‹
    - å¸¦ç€é•£é“è·³èˆ
- å¯¹äºæŸ±çŠ¶å›¾ï¼Œæˆ‘ä»¬çš„æ€åº¦æ˜¯ï¼Ÿ
    - æ¯”é¥¼å¥½
    - æ˜¯ä¸æ˜¯è¿˜èƒ½ç»§ç»­ç®€åŒ–
- å¯¹äºç‚¹å’Œçº¿ï¼Œæˆ‘ä»¬çš„æ€åº¦æ˜¯ï¼Ÿ
    - æ‹¥æŠ±ä¹‹
    - boringåˆ™åŠ æˆ
:::

:::

::: {.column .fragment .nonincremental width="50%"}

*Bonus*

- Tufte, Edward R. 2001[1983]. [*The Visual Display of Quantitative Information*]{.red}. Cheshire, Conn: Graphics Press.   
- Cleveland, William S. 1994. *The Elements of Graphing Data*. Murray Hill, N.J: Hobart Press.    
- Wilkinson, Leland. 2005. *The Grammar of Graphics*. New York: Springer-Verlag.

:::{.notes}
ä¹ è¿‘å¹³ï¼š æˆ‘ä»¬è¿›ä¸€æ­¥æ·±åŒ–å¯¹ä¸­å›½å¼ç°ä»£åŒ–çš„å†…æ¶µå’Œæœ¬è´¨çš„è®¤è¯†ï¼Œæ¦‚æ‹¬å½¢æˆä¸­å›½å¼ç°ä»£åŒ–çš„ä¸­å›½ç‰¹è‰²ã€æœ¬è´¨è¦æ±‚å’Œé‡å¤§åŸåˆ™ï¼Œåˆæ­¥æ„å»ºä¸­å›½å¼ç°ä»£åŒ–çš„ç†è®ºä½“ç³»ï¼Œä½¿ä¸­å›½å¼ç°ä»£åŒ–æ›´åŠ æ¸…æ™°ã€æ›´åŠ ç§‘å­¦ã€æ›´åŠ å¯æ„Ÿå¯è¡Œã€‚

Edward Tufteï¼Œè·¨ç•Œæ”¿æ²»å­¦ã€ç»Ÿè®¡å­¦ï¼Œå¯è§†åŒ–ä¹‹çˆ¶ï¼Œè¯¥ä¹¦ä¸ºå¯è§†åŒ–åœ£ç»ï¼Œæ‰‹ç»˜æ—¶ä»£çš„äº§ç‰©ï¼Œæœ‰ç‚¹ç»†èŠ‚å¹æ¯›æ±‚ç–µï¼Œæ¯”å¦‚æŸ±çŠ¶å›¾ä¸èƒ½ç”¨tickå‘€ä¹‹ç±»çš„
:::

:::

::::



# å¯è§†åŒ–å·¥å…·
å®ç°â€œå‡†ç¡®ã€æç®€ã€ä¸»åŠ¨â€å¯è§†åŒ–çš„è·¯ç»å’Œæ‰‹æ®µ

## å¯è§†åŒ–ç¼–ç 

::::{.columns style="text-align:center"}
:::{.column width="30%"}
* æ•°å€¼ï¼ˆnumericï¼‰
    + 10å˜ç±³ï¼Œ17å˜ç±³ï¼Œ23å˜ç±³
* å®šåºï¼ˆordinalï¼‰
    + å°ï¼Œä¸­ï¼Œå¤§
    + å‘¨æ—¥ï¼Œå‘¨ä¸€ï¼Œå‘¨äºŒâ€¦â€¦
* å®šç±»ï¼ˆnominalï¼‰
    + è‹¹æœï¼Œæ¡”å­ï¼Œé¦™è•‰â€¦â€¦
:::

:::{.column width="70%" .fragment}

- **æ ‡è®°**ï¼šç‚¹ã€çº¿ã€é¢    
    ![](https://drhuyue.site:10002/sammo3182/figure/vis_sign.png)
    
- **é€šé“**ï¼šä½ç½®ã€å¤§å°ã€å½¢çŠ¶ã€æ–¹å‘ã€è‰²è°ƒã€é¥±å’Œåº¦ã€äº®åº¦â€¦â€¦    
    ![](https://drhuyue.site:10002/sammo3182/figure/vis_pipe.png)
:::
::::

## é€šé“

::::{.columns style="text-align:center"}
:::{.column width="50%" .fragment}
![](https://drhuyue.site:10002/sammo3182/figure/vis_category.png){.fragment height=300 width=370}

![](https://drhuyue.site:10002/sammo3182/figure/vis_group.png){.fragment height=300}
:::

:::{.column width="50%" .fragment}
![](https://drhuyue.site:10002/sammo3182/figure/vis_order.png){.fragment height=600}
:::
::::


## é€šé“é€‰æ‹©

:::{.fragment style="text-align:center"}
**ç±»å‹ï¼ˆTypeï¼‰**

+ æ˜¯ä»€ä¹ˆ/åœ¨å“ªé‡Œï¼ˆwhat/whereï¼‰
+ ä½•ç§ç¨‹åº¦ï¼ˆhow muchï¼‰
:::

::::{.columns style="text-align:center; margin-top: 2em"}
:::{.column width="50%" .fragment}
**æœ‰æ•ˆæ€§ï¼ˆEffectivenessï¼‰**

+ é€šé“è¡¨ç°åŠ›ç¬¦åˆå±æ€§çš„é‡è¦æ€§
+ å‡†ç¡®æ€§
:::

:::{.column width="50%" .fragment}
**è¡¨ç°åŠ›ï¼ˆExpressivenessï¼‰**

+ è¡¨è¾¾ä¸”ä»…è¡¨è¾¾æ•°æ®çš„å®Œæ•´å±æ€§
+ *åˆ¤æ–­æ ‡å‡†*ï¼šå¯è¾¨æ€§ã€å¯åˆ†ç¦»æ€§ã€è§†è§‰çªå‡º
:::
::::

:::{.fragment}
:::{.callout-tip}
## ç»Ÿè®¡å¯è§†åŒ–åŸåˆ™

å‡†ç¡®Â·æç®€Â·ä¸»åŠ¨
:::
:::



## æœ‰æ•ˆæ€§

:::{.r-stack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_Os.png){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_Os3.png){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_Os2.png){.fragment height=600}
:::

## å‡†ç¡®æ€§ï¼ˆAccuracyï¼‰

$$\displaystyle S (I)=kI^{n},$$ 

`k`: proportionality constant that depends on the units used

![](https://drhuyue.site:10002/sammo3182/figure/vis_stevensPowerLaw.png){fig-align="center" height=500}


:::{.notes}
åˆºæ¿€å¢åŠ ï¼š

* å…³æ³¨åº¦æ•æ„Ÿåº¦é™ï¼šç‚¹äº®åº¦ã€å£°éŸ³å“åº¦
* å…³æ³¨åº¦æ•æ„Ÿåº¦ä¸å˜ï¼šçº¿é•¿åº¦
* å…³æ³¨åº¦æ•æ„Ÿåº¦åŠ ï¼šç”µæµ

psychophysicist Stanley Smith Stevens (1957, 1961)

:::

## å¯è¾¨æ€§ï¼ˆDiscriminabilityï¼‰ 

:::{.r-stack}

![](https://drhuyue.site:10002/sammo3182/figure/vis_commuNet.png){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_contract.png){.fragment height=600}
:::

:::{.notes}
é€šè¿‡ç²—ç»†åŠ¨æ€è¡¨ç°èŒƒå›´ï¼Œå‡†ç¡®æ€§ç•¥æ˜¾ä¸è¶³
:::

## å¯åˆ†ç¦»æ€§ï¼ˆSeparabilityï¼‰

![](https://drhuyue.site:10002/sammo3182/figure/vis_separability.png){fig-align="center" height=400}

:::{.notes}
éƒ½å¯ä»¥ï¼Œä½†ä½ç½®åŒºåˆ«æœ€å¥½
:::

## è§†è§‰çªå‡ºï¼ˆPop-outï¼‰

:::{.r-hstack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_popOut3.png){.fragment height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_measurement.png){.fragment height=600}
:::

:::{.notes}
æ˜¯ä¸æ˜¯è¶Šç²¾ç¡®è¶Šå¥½ï¼Ÿä¸ä¸€å®šâ€¦â€¦å…³é”®åœ¨æˆ‘æƒ³è®©ä½ çœ‹è§ä»€ä¹ˆï¼Œä¸æƒ³è®©ä½ æ³¨æ„ä»€ä¹ˆ
:::

## è§†è§‰çªå‡ºåŸºç¡€ï¼šåˆ†ä¸»æ¬¡

:::{.r-stack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_lattice2.png){height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_lattice1.png){.fragment height=600}
:::

:::{.notes}
å·¦è¾¹æ›´æ˜¯ä¸éœ€è¦ç½‘æ ¼

åœ¨ç ”ç©¶è¿‡ç¨‹ä¸­ï¼Œä¸€å›½ä¹‹å†…ï¼Œè¡Œæ”¿åŒºåŸŸåˆ’åˆ†æ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œé™¤épolicyï¼Œå¦åˆ™è¡Œæ”¿åŒºåˆ’å¹¶ä¸ä»£è¡¨ä»€ä¹ˆï¼Œæœ‰æ—¶å€™ä¸´è¿‘åŒºåŸŸç‰¹ç‚¹ç›¸è¿‘ï¼Œå»ºè®®ç”¨æµ…ç°è‰²ï¼Œç»çº¬çº¿ç”šè‡³å¯ä»¥ä¸è¦
:::

## é€šè¿‡åˆ†ç»„åˆ†ä¸»æ¬¡

::::{.columns style="text-align:center"}
:::{.column width="30%" .fragment}
* åˆ†ç»„ä¼šå¯¹[å¤§éƒ¨åˆ†]{.red}ä»»åŠ¡æœ‰æ•ˆ
* å¦‚æœä¸èƒ½è¿›è¡Œåˆ†ç»„ï¼Œåˆ™éœ€è¦[è½¬æ¢]{.red}ä»»åŠ¡ç›®æ ‡
* é¿å…[è¿‡å¤š]{.red}ç±»åˆ«
* å¯¹æ•°æ®çš„æ¯ä¸ªç»´åº¦æŒ‡å®š[ä¸€ç§]{.red}æˆ–ä¸€ä¸ªé˜¶å±‚çš„é¢œè‰²
:::

:::{.column width="70%" .fragment}
![](https://drhuyue.site:10002/sammo3182/figure/vis_network_democracy.png){height=600}
:::
::::

## è‰²å½©

:::{style="text-align:center"}
> å…¥é—¨å®¹æ˜“ï¼Œå‘è¾ƒæ·±
:::

:::{.notes}
æœ€å®¹æ˜“è¢«å…³æ³¨åˆ°çš„è§†è§‰å…ƒç´ ï¼ŒåŸºç¡€åŸåˆ™å¾ˆç®€å•ï¼Œè¾ƒçœŸèµ·æ¥é—®é¢˜å¤š
:::

::::{.columns}
:::{.column width="30%" .fragment}
- ç°åº¦æœ‰åº &rarr; æ•°å€¼å‹
    - ![](https://drhuyue.site:10002/sammo3182/figure/vis_grey1.png)
    - ![](https://drhuyue.site:10002/sammo3182/figure/vis_grey2.png)
- è‰²è°ƒæ— åº &rarr; ç±»åˆ«å‹
    - ![](https://drhuyue.site:10002/sammo3182/figure/vis_rainbow.png)
:::

:::{.column width="30%" .fragment}
**è‰²å½©è®¾è®¡åŸºæœ¬åŸåˆ™**

+ é¿å…[è¿‡å¤š]{.red}é¢œè‰²äº¤é”™å¯¼è‡´çš„æ‚ä¹±æ— ç« 
+ æ³¨æ„æ§åˆ¶åŒæ—¶å¯¹æ¯”ï¼ˆSimultaneous contrastï¼‰
+ æ³¨æ„[é¥±å’Œåº¦]{.red}

:::{.notes}
å¦‚æœçº¯è‰²ä¸ºç»¿è‰²ï¼Œåˆ™ç°è‰²è‰²å—çœ‹èµ·æ¥å¸¦æœ‰çº¢å‘³,äº§ç”Ÿé¢œè‰²åå·®
:::

:::


:::{.column width="40%"}

:::{.r-stack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_redGreen_w.jpg){.fragment height=500}

![](https://drhuyue.site:10002/sammo3182/figure/vis_redGreen_r.png){.fragment height=400}
:::

:::{.notes}

ä¸Šæµ·ç¾æœ¯ç”µå½±åˆ¶ç‰‡å‚äº1961å¹´åˆ°1964å¹´åˆ¶ä½œçš„ä¸€éƒ¨å½©è‰²åŠ¨ç”»é•¿ç‰‡

+ 1962å¹´è·æ·å…‹æ–¯æ´›ä¼å…‹ç¬¬åä¸‰å±Šå¡ç½—ç»´å‘åˆ©ç”µå½±èŠ‚çŸ­ç‰‡ç‰¹åˆ«å¥–ã€‚
+ 1963å¹´è·ç¬¬äºŒå±Šä¸­å›½ç”µå½±â€œç™¾èŠ±å¥–â€æœ€ä½³ç¾æœ¯ç‰‡å¥–ã€‚
+ 1978å¹´è‹±å›½ä¼¦æ•¦å›½é™…ç”µå½±èŠ‚æœ¬å¹´åº¦æ°å‡ºç”µå½±ã€‚
+ 1980å¹´5æœˆç¬¬äºŒæ¬¡å…¨å›½å°‘å¹´å„¿ç«¥æ–‡è‰ºåˆ›ä½œè¯„å¥–å§”å‘˜ä¼šä¸€ç­‰å¥–ã€‚
+ 1982å¹´8æœˆå„ç“œå¤šå°”ç¬¬å››å±Šå›½é™…å„¿ç«¥ç”µå½±èŠ‚ä¸‰ç­‰å¥–ã€‚
+ 1983å¹´è·è‘¡è„ç‰™ç¬¬åäºŒå±Šè²æ ¼è…Šè¾¾ç¦å…¹å›½é™…ç”µå½±èŠ‚è¯„å§”å¥–
:::

:::
::::


## è‰²å½©é€‰æ‹©

- å¤§éƒ¨åˆ†ä½œå›¾è½¯ä»¶é»˜è®¤é…è‰²å·²ç»**éå¸¸å¥½**ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡äº‹å„¿åˆ«çæ”¹~ï¼‰
- è¯·åœ¨é¢œè‰²é€‰æ‹©è¿‡ç¨‹ä¸­ä½“ç°äººæ–‡å…³æ€€
    - Color blind
    - Hard-copy person
- å¦‚æœéè¦è¾ƒçœŸï¼Œè¾…åŠ©è½¯ä»¶æ¥é€‰æ‹©åˆé€‚çš„è‰²é˜¶
    - [colorbrewer2.org](https://colorbrewer2.org/) 
    - [paletton.com](https://paletton.com/)

:::{.notes}
è‰²ç›²ç—‡æ‚£è€…: çº¢ç»¿è‰²ç›²æ˜¯æœ€å¸¸è§çš„è‰²ç›²ï¼Œå…¶æ¬¡æ˜¯è“é»„è‰²ç›²ä»¥åŠå…¨è‰²ç›²ã€‚åŒ—æ¬§æ—è£”çš„çº¢ç»¿è‰²ç›²æ‚£è€…çº¦å ç”·æ€§çš„8%å’Œå¥³æ€§çš„0.5% (Northern European ancestry , National Eye Institute, 2015)

å–œæ¬¢æ‰“å°çš„äººç¾¤
:::

## è°ƒè‰²æ¿

::::{.columns style="text-align:center"}
:::{.column width="50%"}
![](https://drhuyue.site:10002/sammo3182/figure/vis_color_sequential.png){height=600}
:::

:::{.column width="50%"}
![](https://drhuyue.site:10002/sammo3182/figure/vis_color_diverging.png){height=300}
![](https://drhuyue.site:10002/sammo3182/figure/vis_color_qualitative.png){height=300}
:::
::::


## å‘å¤§å‚å­¦ä¹ 

:::{.r-hstack}
![](https://drhuyue.site:10002/sammo3182/figure/vis_background_apple.jpg){height=600}

![](https://drhuyue.site:10002/sammo3182/figure/vis_background_huawei.jpeg){height=600}
:::


## è‰²å½©å±‚æ¬¡çš„ä¸»åŠ¨æ€§

{{< video https://drhuyue.site:10002/sammo3182/video/vis_jiojio.mp4 title="Jiojioå¥‡å¦™å†’é™©é…è‰²" height=600 loading="eager" allowfullscreen>}}


## å°ç»“

- ç¼–ç å’Œé€šé“
- é€šé“é€‰æ‹©åŸåˆ™
  - æœ‰æ•ˆæ€§
    - å‡†ç¡®æ€§
  - è¡¨ç°åŠ›
    - å¯è¾¨æ€§
    - å¯åˆ†ç¦»æ€§
    - è§†è§‰çªå‡º
- è‰²å½©


# å¯è§†åŒ–æ“ä½œ
ç»Ÿè®¡å¯è§†åŒ–çš„ï¼ˆç¼–ç¨‹ï¼‰æ“ä½œé€»è¾‘

## å¯è§†åŒ–å¹³å°

:::{.fragment style="text-align:center; margin-top: 2em"}
å¸¸è§ç»˜å›¾å·¥å…·

Tableau (Echarts)   
Google Refine

Processing    
D3 (JS)   
[R]{.blue .large}
:::

:::{.fragment .nonincremental style="text-align:center; margin-top: 2em"}
å¸¸è§å¯è§†åŒ–ç±»å‹ï¼š

- æè¿°å›¾
- ç»“æœå›¾
:::


## æè¿°å›¾ï¼šæŸ±çŠ¶å›¾

```{r data-1D, include=FALSE}
mydata <-
  data.frame(
    Cut = c("Fair", "Good", "Very Good", "Premium", "Ideal"),
    Price = c(4300, 3800, 3950, 4700, 3500)
  )
mydata2 <- arrange(mydata, desc(Price))
mydata$Cut <- factor(mydata$Cut, levels = mydata2$Cut)


mydata2 <-
  read.csv(
    "data/MultiColumn_Data.csv",
    sep = ",",
    na.strings = "NA",
    stringsAsFactors = FALSE
  ) %>%
  pivot_longer(-Catergory, names_to = "variable")

```

```{r plot-1D}
#| echo: true
#| fig-align: center
#| output-location: fragment
#| fig-height: 3

ggplot(data = mydata, aes(x = Cut, y = Price)) +
  geom_bar(
    stat = "identity",
    width = 0.8,
    colour = "black",
    size = 0.25,
    fill = "#2ca25f",
    alpha = 1
  )
```

## åˆ†ç»„æŸ±çŠ¶å›¾

```{r plot1D}
#| echo: true
#| fig-align: center
#| code-line-numbers: "|3|11"
#| output-location: column-fragment
#| class-source: long_chunk
#| classes: long_chunk
#| fig-height: 8

ggplot(data = mydata2,
       aes(Catergory, value,
           fill = variable)) +
  geom_bar(
    stat = "identity",
    color = "black",
    position = position_dodge(),
    width = 0.7,
    size = 0.25
  ) +
  drhutools::scale_fill_gb() +
  theme_minimal() +
  ylim(0, 10) +
  theme(
    axis.title = element_text(size = 15, face = "plain", color = "black"),
    axis.text = element_text(size = 12, face = "plain", color = "black"),
    legend.title = element_text(size = 14, face = "plain", color = "black"),
    legend.background  = element_blank(),
    legend.position = c(0.88, 0.88)
  )
```

## æè¿°å›¾ï¼šé›·è¾¾å›¾

```{r data-radar-show}
coord_radar <- function (theta = "x",
                         start = 0,
                         direction = 1)
{
  theta <- match.arg(theta, c("x", "y"))
  r <- if (theta == "x")
    "y"
  else
    "x"
  ggproto(
    "CoordRadar",
    CoordPolar,
    theta = theta,
    r = r,
    start = start,
    direction = sign(direction),
    is_linear = function(coord)
      TRUE
  )
}


label_data <- data.frame(
  car = c("æ•°å­¦" , "è¯­æ–‡" , "è‹±è¯­" , "æ”¿æ²»" , "ç¼–ç¨‹"),
  id = c(1:5) ,
  value = c(12 , 2 , 14 , 20, 18)
)

AddRow <- c(NA, nrow(label_data) + 1, label_data[1, ncol(label_data)])
mydata <- rbind(label_data, AddRow)

myAngle <- 360 - 360 * (label_data$id - 1) / nrow(label_data)  

mydata %>% 
  filter(car != "NA") %>% 
  kable(format = "html")
```

---

```{r plot-radar-code, fig.width=5}
#| echo: true
#| fig-align: center
#| output-location: column-fragment
#| class-source: long_chunk
#| classes: long_chunk
#| code-line-numbers: "|17"


ggplot() +
  geom_polygon(
    data = mydata,
    aes(x = id, y = value),
    color = "black",
    fill = brewer.pal(7, "Set1")[1],
    alpha = 0.1
  ) +
  geom_point(
    data = mydata,
    aes(x = id, y = value),
    size = 5,
    shape = 21,
    color = 'black',
    fill = brewer.pal(7, "Set1")[1]
  ) +
  coord_radar() + 
  scale_x_continuous(breaks = label_data$id, labels = label_data$car) +
  ylim(0, 22) +
  theme_light() +
  theme(axis.text.x = element_text(
    size = 11,
    colour = "black"
  ))
```



## æè¿°å›¾ï¼šè¶‹åŠ¿å›¾ï¼ˆç‚¹-çº¿ï¼‰

```{r data-2D, include = FALSE}
mydata<-read.csv("data/Scatter_Data.csv",stringsAsFactors=FALSE) 
```

```{r plot-2D-code}
#| echo: true
#| fig-align: center
#| code-line-numbers: "|2|8"
#| output-location: column-fragment
#| class-source: long_chunk
#| classes: long_chunk
#| fig-width: 10
#| fig-height: 8

ggplot(data = mydata, aes(x, y)) +
  geom_point(
    fill = "black",
    colour = "black",
    size = 3,
    shape = 21
  ) +
  geom_smooth(
    method = 'loess',
    span = 0.4,
    se = TRUE,
    colour = "#00A5FF",
    fill = "#00A5FF",
    alpha = 0.2
  ) + 
  scale_y_continuous(breaks = seq(0, 125, 25)) +
  theme(
    text = element_text(size = 15, color = "black"),
    plot.title = element_text(
      size = 15,
      family = "myfont",
      hjust = .5,
      color = "black"
    ),
    legend.position = "none"
  )
```

## æè¿°å›¾ï¼šç½‘ç»œå›¾

```{r network-plot}
#| echo: true
#| fig-align: center
#| code-line-numbers: "|6,7"
#| output-location: fragment
#| fig-height: 4

library(network) # for data
data(emon)
library(ggnetwork)

ggplot(emon[[1]], aes(x = x, y = y, xend = xend, yend = yend)) +
  geom_edges(arrow = arrow(length = unit(6, "pt"), type = "closed")) +
  geom_nodes(color = "tomato", size = 4)
```

## æ¡‘ç§¯å›¾

```{r sankey-code}
#| echo: true
#| output-location: slide
#| fig-align: center
#| fig-height: 6.5

library(ggalluvial)

data(vaccinations)
levels(vaccinations$response) <- rev(levels(vaccinations$response))

ggplot(vaccinations,
       aes(x = survey, stratum = response, alluvium = subject,
           y = freq,
           fill = response, label = response)) +
  scale_x_discrete(expand = c(.1, .1)) +
  geom_flow() +
  geom_stratum(alpha = .5) +
  geom_text(stat = "stratum", size = 3) +
  theme(legend.position = "none") +
  ggtitle("Vaccination survey responses at three points in time")
```

:::{.notes}
three RAND American Life Panel (ALP) surveys that asked respondents their probability of vaccinating for influenza. 
:::


## åŠ¨ç”»

![](https://drhuyue.site:10002/sammo3182/figure/vis_patrioBase9709.gif){height=600 fig-align="center"}


## ç»“æœå›¾ï¼šå›å½’ç³»æ•°

```{r ols-table}
m1 <- m1 <- lm(mpg ~ wt + cyl + disp + gear, data = mtcars)
m2 <- update(m1, . ~ . + hp)
m3 <- update(m2, . ~ . + am)

modelsummary(list(m1, m2, m3), stars = TRUE) %>%
  kableExtra::kable_styling(font_size = 16)
```

## Dot-whisker

```{r ols-dw}
#| echo: true
#| fig-align: center
#| output-location: fragment

library(dotwhisker)

dwplot(list(m1, m2, m3), show_stats = TRUE)
```

## More delicate version

```{r dwComplex}
#| fig-align: center
#| fig-height: 7

# Create list of brackets (label, topmost included predictor, bottommost included predictor)
three_brackets <- list(
    c("Overall", "Weight", "Weight"),
    c("Engine", "Cylinders", "Horsepower"),
    c("Transmission", "Gears", "Manual")
)

{
    dwplot(list(m1, m2, m3),
           vline = geom_vline(
               xintercept = 0,
               colour = "grey60",
               linetype = 2
           )) %>% # plot line at zero _behind_ coefs
        relabel_predictors(
            c(
                wt = "Weight",
                # relabel predictors
                cyl = "Cylinders",
                disp = "Displacement",
                hp = "Horsepower",
                gear = "Gears",
                am = "Manual"
            )
        ) + xlab("Coefficient Estimate") + ylab("") +
        ggtitle("Predicting Gas Mileage") +
        theme(
            text = element_text(size = 16),
            plot.title = element_text(face = "bold"),
            legend.position = c(0.993, 0.99),
            legend.justification = c(1, 1),
            legend.background = element_rect(colour = "grey80"),
            legend.title = element_blank()
        )
} %>%
    add_brackets(three_brackets, fontSize = 1)
```

## Small-multiple

```{r sm}
#| fig-align: center
#| fig-height: 6


small_multiple(list(m1, m2, m3)) +
    geom_hline(yintercept = 0,
               colour = "grey60",
               linetype = 2) +
    ggtitle("Predicting Mileage") +
    theme(
        text = element_text(size = 16),
        plot.title = element_text(face = "bold"),
        legend.position = "none",
        axis.text.x = element_text(angle = 60, hjust = 1)
    ) 
```

## ç»“æœå›¾ï¼šäº¤äº’æ•ˆåº”(`interplot`)

```{r interplot-simple}
#| echo: true
#| fig-align: center
#| fig-height: 5
#| output-location: fragment

data(mtcars) 
m_cyl <- lm(mpg ~ wt * cyl, data = mtcars)

library(interplot)
interplot(m = m_cyl, var1 = "cyl", var2 = "wt")
```

## More delicate

```{r interplotAdvanced}
#| fig-align: center
#| layout-ncol: 2
#| fig-cap: 
#|    - "Numeric Conditioner"
#|    - "Categorical Conditioner"

interplot(m = m_cyl, var1 = "cyl", var2 = "wt", hist = TRUE) +
    geom_hline(yintercept = 0, linetype = "dashed")

mtcars$gear <- factor(mtcars$gear)
m_gear <- lm(mpg ~ gear * wt, data = mtcars)

interplot(m = m_gear, var1 = "wt", var2 = "gear") + 
  ylab("Weight")
```


## Take-Home Points

::::{.columns style="text-align:center"}

:::{.column .nonincremental width="30%" .fragment}
**å¯è§†åŒ–ç†è®º**

- æŠ‰æ‹©ï¼šç²¾ç¡® vs. çœ¼çƒ
- å¯è§†åŒ–åŸºæœ¬åŸåˆ™
    1. å‡†ç¡®
    1. æç®€
    1. ä¸»åŠ¨
:::

:::{.column .nonincremental width="30%" .fragment}
**å¯è§†åŒ–å·¥å…·**

- ç¼–ç å’Œé€šé“
- é€šé“é€‰æ‹©
  - æœ‰æ•ˆæ€§
  - è¡¨ç°åŠ›
- è‰²å½©
:::

:::{.column .fragment width="40%" .fragment}
**å¯è§†åŒ–æ“ä½œ**

- æè¿°å›¾
- ç»“æœå›¾
- ä»¥å›¾ä»£è¡¨
    - è´¯å½»å¯è§†åŒ–åŸºæœ¬åŸåˆ™
:::

::::

:::: {.fragment .columns}

::: {.column width="70%"}
> [æˆ‘ä»¬è¿›ä¸€æ­¥æ·±åŒ–å¯¹ä¸­å›½å¼ç°ä»£åŒ–çš„å†…æ¶µå’Œæœ¬è´¨çš„è®¤è¯†ï¼Œæ¦‚æ‹¬å½¢æˆä¸­å›½å¼ç°ä»£åŒ–çš„ä¸­å›½ç‰¹è‰²ã€æœ¬è´¨è¦æ±‚å’Œé‡å¤§åŸåˆ™ï¼Œåˆæ­¥æ„å»ºä¸­å›½å¼ç°ä»£åŒ–çš„ç†è®ºä½“ç³»ï¼Œä½¿ä¸­å›½å¼ç°ä»£åŒ–**æ›´åŠ æ¸…æ™°ã€æ›´åŠ ç§‘å­¦ã€æ›´åŠ å¯æ„Ÿå¯è¡Œ**ã€‚---ä¹ è¿‘å¹³. 2023. ["åœ¨å­¦ä¹ è´¯å½»å…šçš„äºŒåå¤§ç²¾ç¥ç ”è®¨ç­å¼€ç­å¼ä¸Šå‘è¡¨é‡è¦è®²è¯"](https://www.gov.cn/xinwen/2023-02/07/content_5740520.htm)]{.red}
:::

::: {.column width="30%"}
![](https://drhuyue.site:10002/sammo3182/figure/vis_xijinping.jpg){fig-align="center" height=250}
:::

::::




# Bonus: åšè¡¨ {.appendix}

## æè¿°æ€§ç»Ÿè®¡

```{r desc-data}
df_mtcars <- mutate(mtcars, 
       across(c(vs, am), as.logical))
```

```{r desc-table}
library(modelsummary)

datasummary_skim(df_mtcars) %>% 
  kableExtra::kable_styling(font_size = 18)

datasummary_skim(df_mtcars, type = "categorical") %>% 
  kableExtra::kable_styling(font_size = 18)
```

## å›å½’è¡¨æ ¼

```{r modelsummary}
#| echo: true
#| output-location: fragment

library(modelsummary)
modelsummary(list(m1, m2, m3), stars = TRUE) %>%
  kableExtra::kable_styling(font_size = 13)
```


