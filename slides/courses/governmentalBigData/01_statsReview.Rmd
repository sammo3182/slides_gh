---
title: "ç ”ç©¶æ•°æ®ä¸åˆ†ææ”¶é›†åŸåˆ™"
subtitle: "Learning DGP for Big-Data Research with Dr. Hu"
author: "èƒ¡æ‚¦"
# date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    self_contained: FALSE
    chakra: libs/remark-latest.min.js
    css: 
      - default
      - zh-CN_custom.css
      - style_ui.css
    nature:
      highlightStyle: github
      highlightLines: true
      highlightSpans: true
      countIncrementalSlides: false
      ratio: 16:9
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(message = FALSE, warning = FALSE, htmltools.dir.version = FALSE)

library(pacman)
p_load(icons, xaringanExtra)

use_xaringan_extra(c("tile_view", # O
                     "broadcast",
                     "panelset",
                     "tachyons",
                     "fit_screen"))

use_extra_styles(
  hover_code_line = TRUE,
  mute_unhighlighted_code = TRUE
)

# Functions preload
set.seed(313)
```

## å­¦ä¹ è®¡åˆ’

.pull-left[
### ç ”ç©¶è®¾è®¡åŸåˆ™

1. ç§‘å­¦ç ”ç©¶


### æ•°æ®æ”¶é›†åŸåˆ™

1. æŠ½æ ·ä¸æƒé‡
1. å˜é‡æµ‹é‡
]

.pull-right[
### æ•°æ®åˆ†æåŸåˆ™

1. ç»Ÿè®¡åŸºç¡€
1. é‡å¤æ€§æˆªé¢æ•°æ®åˆ†æ
1. è½¯ä»¶ä¸æ•°æ®èµ„æº
]

---

class: inverse, bottom

# ç ”ç©¶è®¾è®¡åŸåˆ™

---

class: middle, center, large

.navy[æ”¿]åŠ¡å¤§æ•°æ®     
&sub; .navy[æ”¿]æ²».red[ç§‘å­¦]ç ”ç©¶   
&sub; ç¤¾ä¼š.red[ç§‘å­¦]ç ”ç©¶

--

### ç§‘å­¦ä»ä½•è°ˆèµ·


1\. ç¨‹åº    
2\. æ–¹æ³•

---

## ç ”ç©¶ç¨‹åº

.pull-left[
### é—®é¢˜å¯¼å‘

1. .red[é—®é¢˜]æå‡º
1. ç†è®º.red[å‡è®¾]
1. æ•°æ®.red[æ–¹æ³•]
1. å®è¯.red[æ£€éªŒ]
]

???

Jim Gray æ—©åœ¨2006 å¹´å°±å‘è¡¨äº†é¢˜ä¸ºã€Šç¬¬å››èŒƒå¼ï¼šæ•°æ®å¯†é›†å‹ç§‘å­¦å‘ç°ã€‹ï¼šå®éªŒèŒƒå¼ã€ç†è®ºèŒƒå¼ã€ä»¿çœŸèŒƒå¼ã€Data-Intensive Scientific Discovery

--

.pull-right[
### æ•°æ®å¯¼å‘

1. .red[è§‚å¯Ÿ]æ•°æ®
1. .red[åˆ†æ]æ–¹æ³•
1. .red[è§„å¾‹]æ€»ç»“
1. ç†è®º.red[æå‡]

]

---

class: middle, center

## ç¬¬ä¸€æ­¥ï¼šé—®é¢˜ä¸ç†è®º

### é—®é¢˜æ¥æº

æ¢æ–‡é“ + åˆ—æ–‡è™å…‹ + ç‰›é¡¿

???
æ–‡çŒ®

è§‚å¯Ÿä¸å‘ç°

å…´è¶£ï¼ˆå¯¹ä¸Šå¸çš„çˆ±ï¼‰

--

### ç ”ç©¶æ­¥éª¤

ç†è®ºï¼ˆä¸€ä¸ªæƒ³æ³•ï¼‰&rarr; å‡è®¾ï¼ˆå‡ ä¸ªåˆ¤æ–­ï¼‰&rarr; éªŒè¯ï¼ˆä¸€å¨è¯æ®ï¼‰

--

### ç ”ç©¶å½¢å¼

1\. æè¿°    
2\. æœºåˆ¶


---

.pull-left[
### æè¿°

å·²çŸ¥ &rArr; æœªçŸ¥

1. æ— åï¼ˆæ­£ç¡®ğŸ˜„ï¼‰
1. é«˜æ•ˆï¼ˆå‡†ç¡®ğŸ˜…ï¼‰

<img src="images/stat_yangQian.gif" height = 300 />
]

.pull-right[
### æœºåˆ¶

ææ¸…why & how

......

but how?

<img src="images/stat_yuXuanji.jfif" height = 300 />
]

---

## å…³äºå› æœæœºåˆ¶çš„å‡ ä¸ªäº‰è®®

.pull-left[
### å®šä¹‰

+ æ—¶é—´åºåˆ—
    + å¤šé‡å› æœï¼Ÿ
+ æ¡ä»¶è§’åº¦
    + å†³å®šè®º vs. æ¦‚ç‡è®º

.center[<img src="images/stat_bookOfWhy.jpg" height = 250 />]
]

--

.pull-right[

### æµ‹é‡

Y ~ X vs.

Y ~ A &rarr; B  &rarr; C  &rarr; D &rarr; E &rarr; ... &rarr; X

]

---

## å…³äºå› æœæœºåˆ¶çš„å‡ ä¸ªäº‰è®®

.pull-left[
### å®šä¹‰

+ æ—¶é—´åºåˆ—
    + å¤šé‡å› æœï¼Ÿ
+ æ¡ä»¶è§’åº¦
    + å†³å®šè®º vs. æ¦‚ç‡è®º

.center[<img src="images/stat_bookOfWhy.jpg" height = 250 />]
]

.pull-right[

### æµ‹é‡

Y ~ X vs.

Y ~ A &rarr; B  &rarr; C  &rarr; D &rarr; E &rarr; ... &rarr; X

### è§‚æµ‹

<img src="images/stat_correlation.png" height = 250 />
]

???

correlation doesn't imply causation

---

## æœºåˆ¶å·¥å…·ï¼š

+ åäº‹å®åˆ†æ

--

è¿™äº›éƒ½ä¸æ˜¯ï¼š

+ æ–¹å·®åˆ†æ
+ éå‚æ•°æ£€éªŒ
+ ç›¸å…³ç³»æ•°
+ å›å½’åˆ†æ
+ Lasso
+ SEM
+ å€¾å‘å€¼åŒ¹é…   
......

---

## Wrap Up

ç ”ç©¶è®¾è®¡åŸåˆ™

1. ç§‘å­¦ï¼šç¨‹åº + æ–¹æ³•
1. æ­¥éª¤ï¼šé—®é¢˜ + ç†è®º + å‡è®¾ + éªŒè¯
1. å½¢å¼ï¼šæè¿° and/or æœºåˆ¶

---

class: inverse, bottom

# æ•°æ®æ”¶é›†åŸåˆ™

---

class: center, middle

## æŠ½æ ·ä¸æƒé‡


â€œæ¯æ—¥ä¸Šäº¿æ¡â€

â€œå…¨ç½‘æ•°æ®â€

â€œã€Šäººæ°‘æ—¥æŠ¥ã€‹æ‰€æœ‰æ–‡ç« â€

--

.Large[å¤§æ•°æ®äº¦è¦æŠ½æ ·ã€‚]

---

## æŠ½æ ·

.center[ä».blue[ä¸€å¤§å †]åˆ°.red[ä¸€å°æ’®] &rArr; ä»£è¡¨æ€§]

???

éšæœºæŠ½æ ·çš„ä»£è¡¨æ€§ä½“ç°åœ¨ä¸€å®šçš„sample sizeä¸Š

--

.pull-left[
ç®€å•éšæœºæŠ½æ ·

+ SHAç®—æ³•å’ŒMD5
+ è®¡ç®—æœºéšæœºæ•°
]

???

è®¡ç®—æœºä¼ªéšæœºæ•°

çœŸéšæœºæ•°ï¼šç‰©ç†ç°è±¡ï¼Œå¦‚å†…å­˜ã€ç¡¬ä»¶ã€å™ªéŸ³

--

.pull-right[

å¤æ‚æŠ½æ ·

*è®¾è®¡*

+ é…é¢è®¾è®¡ï¼ˆquotaï¼‰
+ åˆ†ç¾¤è®¾è®¡ï¼ˆclusteringï¼‰
+ åˆ†å±‚è®¾è®¡ï¼ˆstratificationï¼‰

*çŸ«æ­£*

+ æœ‰é™æ€»ä½“æ ¡æ­£ï¼ˆfinite population corrections, FPCï¼‰
+ ä¸ç›¸ç­‰æƒé‡ï¼ˆunequal weightsï¼‰
]

---

.center[
<img src="images/stat_stratifiedCluster.png" height = 500 width = 600 />
<img src="images/stat_quota.png" height = 500 width = 300 />
]

???

Stratification: åˆ†ç±»ï¼Œæ¯ç±»ä¸­éšæœºæŠ½å–ï¼Œæ¯ç±»æˆå‘˜åœ¨æ€»ä½“ä¸­é…æ¯”ä¸å˜        
Clusteringï¼šç›´æ¥éšæœºæŠ½å–ä¸€ç±»        
Quotaï¼šæˆåˆ†é…æ¯”å¤Ÿå°±è¡Œï¼Œä¸ç”¨éšæœº

---

## å¸¸è§è®¾è®¡

.pull-left[
* Strata + Weight (+ FPC)
      + PSU/SSU/TSU

PSU: primary sampling unit    
SSU: secondary sampling unit    
TSU: tertiary sampling unit

]
???

FPC is used when you sample without replacement from more than 5% of a finite population, leading to more uncertainty. 

å½“sampling å¤§äºpopulationçš„5%æ—¶ä½¿ç”¨

$FPC = \sqrt{(N-n)/(N-1)}$, 

N = population size   
n = sample size.

ä¿®æ­£ä¼°è®¡ç»“æœ$s = \frac{\sigma}{\sqrt{n}}\sqrt{(N-n)/(N-1)}.$

--

.pull-right[
* Strata: å°†äººå£æ ¹æ®æŸäº›ç‰¹å¾åˆ†ç»„ï¼›
    + å‡å°‘ç‚¹ä¼°è®¡çš„æ ‡å‡†è¯¯ï¼›
    + ä¸åŒå±‚æŠ½æ ·æƒé‡ä¸ç­‰

* Sampling (survey) weightï¼š
    + æ ·æœ¬å…¥é€‰æ¦‚ç‡çš„å€’æ•°ï¼›
    + å„æŠ½æ ·é˜¶æ®µæƒé‡çš„ä¹˜ç§¯ï¼›
    + æŠ½æ ·æƒé‡åœ¨æ€»ä½“å±‚é¢æ˜¯ç­‰æ¦‚ç‡çš„ï¼Œä½†åœ¨ä¸ªä½“å±‚é¢æ˜¯éç­‰æ¦‚ï¼›å½±å“ç‚¹ä¼°è®¡çš„è®¡ç®—
]

???

For example, if you have selected 200 goldfish out of a population of 1000, the reciprocal of the likelihood of being selected is 1000/200, so the sampling weight for the goldfish would be 5


---

## åæœ

* Stratification &rarr; å±‚é—´æ–¹å·®ä¸é½;
* Clustering &rarr; ç¾¤ç»„é—´æ–¹å·®ä¸é½ï¼Œç¾¤ç»„å†…ä¸ç‹¬ç«‹.
* Weighting &rarr; æŸäº›ç‰¹å¾åˆ†å¸ƒä¸æ€»ä½“ä¸ä¸€è‡´;

--

.center[å¤æ‚æŠ½æ ·æ˜¯.red[ä¸å¾—å·²è€Œä¸ºä¹‹]]

--

## "åæ‹›"

Post-DGP correction &rarr; æŠŠæƒé‡çº³å…¥åˆ†æ

---

## åº”ç”¨

[Behavioral Risk Factor Surveillance System (BRFSS) ](https://www.cdc.gov/brfss/smart/smart_2011.htm) 
County data by US Centers of Disease Control and Prevention (CDC)

```{r survey-example, include=FALSE, eval=FALSE}
brfss_11 <- Hmisc::sasxport.get("D:/Desktop/CNTY2011.xpt")

brfss_11 <- haven::read_sas("data/CNTY11_SASOUT.SAS")

library(car)

nams<-names(brfss_11)

#we see some names are lower case, some are upper and some have a little _ in the first position. This is a nightmare.
newnames <- gsub(pattern = "_",
                 replacement =  "",
                 x =  nams)
names(brfss_11) <- tolower(newnames)

#Poor or fair self rated health
brfss_11$badhealth <- ifelse(brfss_11$genhlth %in% c(4, 5), 1, 0)

#race/ethnicity
brfss_11$black <-
  recode(brfss_11$racegr2, recodes = "2=1; 9=NA; else=0")
brfss_11$white <-
  recode(brfss_11$racegr2, recodes = "1=1; 9=NA; else=0")
brfss_11$other <-
  recode(brfss_11$racegr2, recodes = "3:4=1; 9=NA; else=0")
brfss_11$hispanic <-
  recode(brfss_11$racegr2, recodes = "5=1; 9=NA; else=0")

#insurance
brfss_11$ins <- ifelse(brfss_11$hlthpln1 == 1, 1, 0)

#income grouping
brfss_11$inc <- ifelse(brfss_11$x.incomg == 9, NA, brfss_11$x.incomg)

#education level
brfss_11$educ <-
  recode(brfss_11$educa,
         recodes = "1:2='0Prim'; 3='1somehs'; 4='2hsgrad'; 5='3somecol'; 6='4colgrad';9=NA",
         as.factor = T)
brfss_11$educ <- relevel(brfss_11$educ, ref = '2hsgrad')

#employment
brfss_11$employ <-
  recode(brfss_11$employ,
         recodes = "1:2='Employed'; 2:6='nilf'; 7='retired'; 8='unable'; else=NA",
         as.factor = T)
brfss_11$employ <- relevel(brfss_11$employ, ref = 'Employed')

#marital status
brfss_11$marst <-
  recode(brfss_11$marital,
         recodes = "1='married'; 2='divorced'; 3='widowed'; 4='separated'; 5='nm';6='cohab'; else=NA",
         as.factor = T)
brfss_11$marst <- relevel(brfss_11$marst, ref = 'married')

#Age cut into intervals
brfss_11$agec <- cut(brfss_11$age, breaks = c(0, 24, 39, 59, 79, 99))

#BMI, in the brfss_11a the bmi variable has 2 implied decimal places, so we must divide by 100 to get real bmi's
brfss_11$bmi <- brfss_11$x.bmi5 / 100

library(dplyr)

brfss_11 <- select(brfss_11, badhealth, black, white, other, hispanic, ins, inc, educ, employ, marst, agec, bmi, x.ststr, x.cntywt) %>% 
  rename(ststr = x.ststr, cntywt = x.cntywt)

saveRDS(brfss_11, "data/brfss_11.Rds")
```

Set the survey conditions

```{r survey-analysis}
brfss_11 <- readRDS("data/brfss_11.Rds")

library(survey)

options(survey.lonely.psu = "adjust")

des <-
  svydesign(
    ids =  ~ 1,
    strata =  ~ ststr,
    weights =  ~ cntywt,
    data = brfss_11[is.na(brfss_11$cntywt) == F, ] # non-missing case weights
  )
```

---

Descriptive

```{r descriptive}
library(questionr)

prop.table(wtd.table(brfss_11$badhealth, brfss_11$educ, weights = brfss_11$cntywt), margin=2)

prop.table(table(brfss_11$badhealth, brfss_11$educ), margin=2)
```

---

Analysis

```{r survey-ols}
raw<-lm(bmi~educ+agec, data=brfss_11)
freqW<-lm(bmi~educ+agec, data=brfss_11, weights = cntywt)
surveyW<-svyglm(bmi~educ+agec,des, family=gaussian)
```

```{r survey-ols-plot, echo = FALSE, out.height="100%", fig.align='center'}
library(dotwhisker)
dwplot(list(NoWeight = raw, FreqWeight = freqW, SurveyWeight = surveyW)) + 
  theme_minimal()
```


???

survey weight is using the inverse-probability weighting

---

## Wrap Up

+ ä»£è¡¨æ€§ &rarrï¼›æŠ½æ ·
    + ç®€å•æŠ½æ ·
    + å¤æ‚æŠ½æ ·
+ å¤æ‚æŠ½æ ·æ­¥éª¤
    + åˆ†é…é¢/å±‚/ç¾¤
    + æŠ½
    + æƒé‡
+ å¤æ‚æŠ½æ ·åˆ†æï¼šè€ƒè™‘æƒé‡

---

class: inverse, bottom

# æ•°æ®åˆ†æåŸåˆ™

---

class: center, middle

.Large[ç»Ÿè®¡å­¦ vs. è®¡é‡ç»æµå­¦]   
.Large[Statistics vs. Econometrics]

???

ç»“æœå‡†

æ–¹å‘å¯¹

---

## ç»Ÿè®¡å­¦

.pull-left[
*åˆ†ç±»I*

* ç†è®ºç»Ÿè®¡å­¦
* åº”ç”¨ç»Ÿè®¡å­¦


*åˆ†ç±»II*

* æè¿°ç»Ÿè®¡
* æ¨æ–­ç»Ÿè®¡
]

???

ç ”ç©¶ç»Ÿè®¡å­¦çš„ä¸€èˆ¬ç†è®ºï¼›ç ”ç©¶ç»Ÿè®¡æ–¹æ³•çš„æ•°å­¦åŸç†

ç ”ç©¶ç»Ÿè®¡æ–¹æ³•åœ¨å…·ä½“é¢†åŸŸä¸­çš„åº”ç”¨

--

.pull-right[
*åŠŸèƒ½*

.center[<img src="images/stat_statProcess.png" height = 350 />]
]

---

## ç»Ÿè®¡å­¦å¸¸ç”¨æ¦‚å¿µ

.center[<img src="images/stat_concepts.png" height = 450 />]

---

.pull-left[

### DGP

æ€»ä½“ vs. æ ·æœ¬

æŠ½æ ·è¯¯å·®

### åˆ†æ

å‚æ•° vs. ç³»æ•°

æœŸæœ›

ä¸ç¡®å®šæ€§

]



???
* æ€»ä½“ï¼šåœ¨ç†è®ºä¸Šæ˜ç¡®ç•Œå®šçš„ä¸ªä½“å…¨éƒ¨é›†åˆã€‚
* æ ·æœ¬ï¼šä»æ€»ä½“ä¸­æŒ‰ç…§ä¸€å®šè§„åˆ™å’Œç¨‹åºæŠ½å‡ºæ¥çš„ä¸ªä½“çš„é›†åˆï¼Œæ˜¯æ€»ä½“ä¸€ä¸ªå­é›†ã€‚


* æŠ½æ ·è¯¯å·®: ç”¨æ ·æœ¬çš„ç»Ÿè®¡å€¼å»æ¨ç®—æ€»ä½“çš„å‚æ•°å€¼æ—¶æ€»ä¼šæœ‰å·®å¼‚ï¼Œè¿™ä¸ªå·®å¼‚å°±æ˜¯æŠ½æ ·è¯¯å·®ã€‚


* å‚æ•°ï¼šæ¦‚æ‹¬æ€»ä½“ç‰¹å¾çš„æµ‹åº¦å€¼ã€‚
* ç³»æ•°ï¼ˆç»Ÿè®¡é‡ï¼‰ï¼šæ¦‚æ‹¬æ ·æœ¬ç‰¹å¾çš„æµ‹åº¦å€¼ã€‚

* æœŸæœ›å€¼: $E(X) = \sum Xp$
* ä¸å¯ç¡®å®šæ€§ï¼š æè¿°æ•°æ®çš„ç¦»æ•£è¶‹åŠ¿
    + Variance: $\sigma^2 = \sum(X - \mu)^2p(X)$
    + Standard deviation: $\sigma$

--

.pull-right[

### ææ–™

* æ•°æ®
* .red[å˜é‡]ã€å˜é‡å€¼ã€ç¼ºå¤±å€¼

### æµ‹é‡

+ å®šç±»
+ å®šåº
+ å®šè·
+ å®šæ¯”
]

???

1. å®šç±»ï¼šæ¯ä¸€ç§ä¸åŒçš„æ•°å­—æˆ–ç¬¦å·ä»£è¡¨ç€ä¸åŒçš„ç±»åˆ«æˆ–æ ‡è®°ã€‚å®šç±»æ•°æ®åªæœ‰ç±»åˆ«å±æ€§ä¹‹åˆ†ï¼Œ æ— å¤§å°ã€ç¨‹åº¦ä¹‹åˆ†ã€‚

1. å®šåºï¼šæ¯ä¸€ç§æ•°å­—æˆ–ç¬¦å·ä»£è¡¨ç€äº‹ç‰©çš„ç­‰çº§å¤§å°ã€é«˜ä½ã€å…ˆåçš„æ¬¡åºã€‚

1. å®šè·ï¼šæ¯ä¸€ç§æ•°å­—æˆ–ç¬¦å·ä»£è¡¨ç€äº‹ç‰©çš„é‡çš„é—´è·ã€‚å®šè·æ•°æ®æ²¡æœ‰ç»å¯¹çš„é›¶ç‚¹ï¼Œä¾‹å¦‚ï¼Œæ¸©åº¦ã€æ™ºå•†ï¼Œå…¶ä¸­çš„â€œé›¶â€åªæ˜¯ä¸€ä¸ªç›¸å¯¹ä½ç½®ï¼Œä¸ä»£è¡¨â€œæ²¡æœ‰â€ã€‚

1. å®šæ¯”ï¼šæ¯ä¸€ç§æ•°å­—æˆ–ç¬¦å·ä»£è¡¨ç€äº‹ç‰©çš„æ‰€æœ‰ç®—æœ¯ç‰¹å¾ã€‚å…¶å–å€¼é™¤äº†å…·æœ‰ç±»åˆ«ã€æ¬¡åºã€é—´è·çš„å±æ€§ä»¥å¤–ï¼Œè¿˜å¯ä»¥æ„æˆä¸€ä¸ªæœ‰æ„ä¹‰çš„æ¯”ç‡ï¼Œå…¶ä¸­çš„â€œé›¶â€ è¡¨ç¤ºçœŸæ­£çš„â€œä¸€æ— æ‰€æœ‰â€ ã€‚


ä¾‹å­ï¼š

feeling thermometer: 0-200ï¼Œå†·æ·¡åˆ°çƒ­æƒ…, 0æ˜¯éå¸¸æç«¯çš„æƒ…ç»ªï¼Œä¸ä»£è¡¨æ²¡æœ‰
-100-0-100ï¼Œ 0ä»£è¡¨0çš„æ„æ€ï¼Œratio æ˜¯å”¯ä¸€ä¸€ç§scaleå¯ä»¥è¡¨ç¤ºmeaningful ratio

åœ¨-100-0-100ï¼ŒæŒ‰10ï¼Œ30 ï¼ˆ1ï¼š3ï¼‰å–å€¼ï¼Œæ”¾å›0-200ï¼Œ110:130, ä¸æ˜¯ratio

---

## ç»ƒä¹ 

ç ”ç©¶è€…æƒ³äº†è§£å…¨å¸‚å±…æ°‘ä¸Šä¸ªæœˆçš„å¹³å‡é€šè®¯æ”¯å‡ºæ˜¯å¤šå°‘å…ƒï¼Œä¸ºæ­¤éšæœºæŠ½å–äº†1800ä¸ªå±…æ°‘è¿›è¡Œäº†è®¿é—®ï¼Œå¾—åˆ°äº†è¿™äº›å±…æ°‘ä¸Šä¸ªæœˆçš„å¹³å‡é€šè®¯æ”¯å‡ºã€‚

é—®é¢˜ï¼šæ€»ä½“ã€æ ·æœ¬ã€å‚æ•°ã€ç³»æ•°ï¼Ÿ

---

## ç»ƒä¹ 

â€œè°ƒæŸ¥å‘ç°ï¼šäººä»¬å¯¹å¸‚æ”¿åºœå·¥ä½œçš„æ»¡æ„åº¦ï¼Œåœ¨ä¸åŒå¹´é¾„ã€æ•™è‚²æ°´å¹³ã€æ”¶å…¥ã€èŒä¸šï¼Œä»¥ åŠä¸åŒæˆ·å£äººç¾¤ä¸­æœ‰æ˜¾è‘—çš„å·®å¼‚ã€‚â€

é—®é¢˜ï¼šä¸Šè¿°è¿™æ®µæè¿°ä¸­æåˆ°äº†å‡ ä¸ªå˜é‡ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Ÿ

---

## æµ‹é‡ç±»å‹

ç›´æ¥æ•°æ®ï¼ˆRaw dataï¼‰

--

æ•´åˆå˜é‡ï¼ˆAggregated dataï¼‰

--

.red[æ½œåœ¨å˜é‡æµ‹é‡] (Latent measurement)

* .gray[ç»å…¸ï¼šFactor analysis]
* .gray[æ–°é”ï¼šIRT]
* å…¨é¢ï¼šSEM


---

class: small

## ç»“æ„æ–¹ç¨‹æ¨¡å‹

Tang, Wenfang, Yue Hu, and Shuai Jin. 2017. â€œAffirmative Inaction: Language Education and Labor Mobility among Chinaâ€™s Muslim Minorities.â€ *Chinese Sociological Review* 48(4): 346â€“66.

.center[<img src="images/stat_sem_eg.png" height = 400 />]

---

## å˜é‡ &rarr; å¾ˆå¤šå˜é‡

æ•°æ®ï¼š

1. å˜é‡ï¼ˆvariablesï¼‰
1. è§‚æµ‹å±‚çº§ (unit of analysis)
1. è§‚æµ‹å¯¹è±¡ï¼ˆobservationsï¼‰

---

## ç»“æ„åŒ–æ•°æ®

Tidy version

.center[<img src="images/stat_tidydata.png" height = 200 />]

```{r tidy, echo = FALSE}
head(mtcars)
```

---

## æ•°æ® &rarr; å¾ˆå¤šæ•°æ®

.pull-left[
*é¢æ¿æ•°æ®*

å¥½

(yysyï¼Œæˆæœ¬é«˜ï¼Œæ ·æœ¬å±€é™å¤§ğŸ™„
]
???

åŠ¨æ€åˆ†æ

å¯¹æ¯”æ€§é«˜

--

.pull-right[
*é‡å¤æŠ½æ ·æ•°æ®*

* å‘¨æœŸæ€§è°ƒæŸ¥
* æ¯æ¬¡éšæœº
* æ—¶åºæ€§ä¿¡æ¯

e.g., WVS, CGSS, GSS, .navy[DCPO datasets]


* å‘ˆç°ç¤¾ä¼šã€æ”¿æ²»ã€ç»æµç°è±¡çš„å˜åŒ–.red[è¶‹åŠ¿]
* æ¢ç´¢ç‰¹å®š.red[äººç¾¤(Cohort)]ç¤¾ä¼šè¡Œä¸ºä¸æ€åº¦çš„å˜è¿æ¨¡å¼
* é€‚ç”¨äºè¯†åˆ«.red[è‡ªç„¶å®éªŒ]çš„æ•ˆåº”
]

---

## æ•°æ®åˆ†æ

.pull-left[
.center[
*æè¿°æ€§åˆ†æ*

+ è§£è¯»æ•°æ®ç»“æ„
+ æ˜¾ç¤ºã€ç†è§£å˜åŒ–è¶‹åŠ¿
]
]

--

.pull-right[
.center[
*æ¯”è¾ƒåˆ†æ*

+ è·¨å±‚çº§åˆ†æ
+ è·¨æ—¶é—´åˆ†æ
+ è·¨åŒºåŸŸåˆ†æ
]
]

--

.center[
*æ€»ä½“åˆ†æ*

+ å¯¹æ ¸å¿ƒå˜é‡ä¸€èˆ¬è¡¨ç°çš„è¡¡é‡
+ ä¸æ¯”è¾ƒåˆ†æä¸åˆ†å…ˆå
]

---

## ä¸¾ä¾‹ï¼šä¸å¹³ç­‰ä¸â€œç¾å›½æ¢¦â€

Solt, Frederick, Yue Hu, Kevan Hudson, et al. 2016. â€œEconomic Inequality and Belief in Meritocracy in the United States.â€ Research & Politics 3(4): 1â€“7.


.left-column[
### æè¿°
]

.right-column[
.center[<img src="images/stat_threeMeasurements.png" height = 400 width = 600/>]
]

---

## ä¸¾ä¾‹ï¼šä¸å¹³ç­‰ä¸â€œç¾å›½æ¢¦â€

Solt, Frederick, Yue Hu, Kevan Hudson, et al. 2016. â€œEconomic Inequality and Belief in Meritocracy in the United States.â€ Research & Politics 3(4): 1â€“7.


.left-column[
### æè¿°
### æ€»ä½“
]

.right-column[
.center[<img src="images/stat_gini.png" height = 400 width = 600/>]
]



---
## ä¸¾ä¾‹ï¼šä¸å¹³ç­‰ä¸â€œç¾å›½æ¢¦â€

Solt, Frederick, Yue Hu, Kevan Hudson, et al. 2016. â€œEconomic Inequality and Belief in Meritocracy in the United States.â€ Research & Politics 3(4): 1â€“7.


.left-column[
### æè¿°
### æ€»ä½“
### æ¯”è¾ƒ
]

.right-column[
.center[<img src="images/stat_pp.png" height = 400 width = 600/>]
]


---

## ä¸¾ä¾‹ï¼šçˆ±å›½ä¸»ä¹‰æ•™è‚²åŸºåœ°

.pull-left[
*æè¿°åˆ†æ*

.center[<img src="images/stat_patrioBase9705.gif" height = 400 width = 600/>]
]

.pull-right[
*æ€»ä½“æ¯”è¾ƒåˆ†æ*

.center[<img src="images/stat_loyal.png" height = 400 width = 600/>]
]

---

## æ•°æ®åˆ†æå·¥å…·

* åˆ†æè½¯ä»¶ï¼šSTATA, SAS, SPSS, EXCEL
* ç¨‹åºè¯­è¨€ï¼šR, Python, JAVA, C++

---

## Wrap Up

ç»Ÿè®¡/è®¡é‡åŠŸèƒ½

å˜é‡
+ æµ‹é‡çº§åˆ«
+ æµ‹é‡æ‰‹æ®µ

æ•°æ®ï¼ˆtidy versionï¼‰

é¢æ¿æ•°æ®/é‡å¤æŠ½æ ·æ•°æ®

æ•°æ®åˆ†æå·¥å…·

```{r pdfPrinting, eval = FALSE, include = FALSE}
pagedown::chrome_print(list.files(pattern = "01_.*.html"), 
                       timeout = 500, 
                       box_model = "padding")
```