---
title: "ç ”ç©¶è®¾è®¡ä¸æ•°æ®åˆ†æåŸåˆ™"
subtitle: "æ”¿åŠ¡å¤§æ•°æ®åº”ç”¨ä¸åˆ†æ (80700673)"
author: "èƒ¡æ‚¦"
institute: "æ¸…åå¤§å­¦" 
knitr: 
    opts_chunk: 
      echo: false
format: 
  revealjs:
    
    css: https://sammo3182.github.io/slides_gh/css/style_basic.css
    theme: ../../../css/goldenBlack.scss
    slide-number: true
    incremental: true
    preview-links: true # open an iframe for a link
    link-external-newwindow: true
    self-contained: false
    chalkboard: false # allwoing chalk board B, notes canvas C
    # callout-icon: false
    show-slide-number: all # `speaker` only print in pdf, `all` shows all the time
    title-slide-attributes:
      data-background-image: https://gitlab.com/sammo3182/backup/raw/85b3c1ad4b459d7a9f901f124b936428eda5fcaf/logo_THPS.png?inline=true
      data-background-size: 250px   
      data-background-position: top 10% right 5%
    default-image-extension: png
revealjs-plugins:
  - spotlight
lightbox: 
  match: auto
  effect: fade
spotlight:
  size: 50
  presentingCursor: default
  toggleSpotlightOnMouseDown: false
  spotlightOnKeyPressAndHold: 73 # keycode for "i"
editor_options: 
  chunk_output_type: console
---

```{r setup}
#| include = FALSE

library(pacman)

p_load(
  "knitr",
  "tidyverse",
  "survey",
  "janitor"
)

theme_set(theme_minimal())
set.seed(313)
```


## æ¦‚è¿°

::::{.columns}
:::{.column width="50%"}
### ç ”ç©¶è®¾è®¡åŸåˆ™

- ç§‘å­¦ç ”ç©¶


### æ•°æ®æ”¶é›†åŸåˆ™

- æŠ½æ ·ä¸æƒé‡
- å˜é‡æµ‹é‡
:::

:::{.column width="50%"}
### æ•°æ®åˆ†æåŸåˆ™

- ç»Ÿè®¡åŸºç¡€
- é‡å¤æ€§æˆªé¢æ•°æ®åˆ†æ
- è½¯ä»¶ä¸æ•°æ®èµ„æº
:::
::::

## Before everythingï¼š ä¸‰ä¸ªé—®é¢˜

:::{.large style="text-align:center; margin-top: 2em"}
1. AIæ—¶ä»£ä¸ºä»€ä¹ˆè¿˜è¦å­¦ç»Ÿè®¡
1. ä»€ä¹ˆæ ·çš„äººæ‰ä¸ä¼šè¢«æœºå™¨å–ä»£
1. ä»€ä¹ˆæ—¶å€™åº”è¯¥æ‰¾GPTå¸®å¿™ï¼ˆä»€ä¹ˆæ—¶å€™ä¸ï¼‰
:::

:::{.notes}
1. AIæ—¶ä»£ä¸ºä»€ä¹ˆè¿˜è¦å­¦ç»Ÿè®¡
    - Only when you know what's valuable and credible, GPT's answers are valuable
    - Better understand LLM
    - Better to achieve interdisciplinary studies
    - To be unreplaceable
1. ä»€ä¹ˆæ ·çš„äººæ‰ä¸ä¼šè¢«æœºå™¨å–ä»£
    - The best: Not enough, æŸ¯æ´
    - The one who know the principles: -> develop
    - æ‡‚æ”¿æ²»å­¦çš„äºº: power
1. ä»€ä¹ˆæ—¶å€™åº”è¯¥æ‰¾GPTå¸®å¿™ï¼ˆä»€ä¹ˆæ—¶å€™ä¸ï¼‰
    - On its advantages: gathering information; routine jobs
    - On its disadvantage: 
        - Up-to-date info
        - Critical thinking---an attention to do it
        - Moral judgement
        - Effective communication
:::

# ç ”ç©¶è®¾è®¡åŸåˆ™


## ç¤¾ä¼šç§‘å­¦ä»ä½•è°ˆèµ·

:::{.r-fit-text}
æ”¿åŠ¡å¤§æ•°æ®ç ”ç©¶ vs. æ”¿æ²»ç§‘å­¦ç ”ç©¶
:::

:::{.fragment .fade-in .Large style="text-align:center; margin-top: 1em"}
ä»ä½•è°ˆèµ·ï¼Ÿ

:::{.fragment .semi-fade-out}
ä¿¡å¿µ
:::

ç¨‹åº    
æ–¹æ³•
:::


## ç ”ç©¶ç¨‹åº

::::{.columns style="text-align:center; margin-top: 1em"}
:::{.column width="50%"}
### é—®é¢˜å¯¼å‘

1. [é—®é¢˜]{.red}æå‡º
1. ç†è®º[å‡è®¾]{.red}
1. æ•°æ®[æ–¹æ³•]{.red}
1. å®è¯[æ£€éªŒ]{.red}

:::

:::{.notes}
Jim Gray æ—©åœ¨2006 å¹´å°±å‘è¡¨äº†é¢˜ä¸ºã€Šç¬¬å››èŒƒå¼ï¼šæ•°æ®å¯†é›†å‹ç§‘å­¦å‘ç°ã€‹ï¼šå®éªŒèŒƒå¼ã€ç†è®ºèŒƒå¼ã€ä»¿çœŸèŒƒå¼ã€Data-Intensive Scientific Discovery
:::

:::{.column width="50%"}
### æ•°æ®å¯¼å‘

1. [è§‚å¯Ÿ]{.red}æ•°æ®
1. [åˆ†æ]{.red}æ–¹æ³•
1. [è§„å¾‹]{.red}æ€»ç»“
1. ç†è®º[æå‡]{.red}

:::
::::


## é—®é¢˜æ¥æº

![](https://drhuyue.site:10002/sammo3182/figure/stat_curiosity.jpg){fig-align="center" height=600}

## ç ”ç©¶æ­¥éª¤

ç†è®ºï¼ˆæƒ³æ³•ï¼‰&rarr; å‡è®¾ï¼ˆåˆ¤æ–­ï¼‰&rarr; éªŒè¯ï¼ˆè¯æ®ï¼‰

:::{.fragmewnt}
**å‘ˆç°å½¢å¼**
:::

::::{.columns}
:::{.column width="50%" .fragment}
*æè¿°*

1. æ— åï¼ˆæ­£ç¡®ğŸ˜„ï¼‰
1. é«˜æ•ˆï¼ˆå‡†ç¡®ğŸ˜…ï¼‰

![](https://drhuyue.site:10002/sammo3182/figure/stat_yangQian.gif){.fragment height=300}
:::

:::{.column width="50%" .fragment}
*æœºåˆ¶*

Why & how

![](https://drhuyue.site:10002/sammo3182/figure/stat_yuXuanji.jfif){height=350}

:::{.fragment}
......but how?
:::

:::
::::

## å…³äºæœºåˆ¶çš„å‡ ä¸ªäº‰è®®

::::{.columns}
:::{.column width="30%" .fragment}
**å®šä¹‰**

+ å› æœæœ¬è´¨
    + å†³å®šè®º vs. æ¦‚ç‡è®º
+ å› æœè·¯ç»
    + å¤šé‡å› æœ
    + â€œäº’ä¸ºå› æœâ€

:::

:::{.column width="70%" .fragment}
**æµ‹é‡**

Y ~ X vs.

Y ~ A &rarr; B  &rarr; C  &rarr; D &rarr; E &rarr; ... &rarr; X

:::{.fragment style="text-align:center; margin-top: 2em"}
**è§‚æµ‹**

![](https://drhuyue.site:10002/sammo3182/figure/stat_correlation.png){height=300}

:::

::::


:::


:::{.notes}
correlation doesn't imply causation
:::


## Bonus: å› æœæ¨æ–­å·¥å…·

::::{.columns}
:::{.column .nonincremental width="30%" .fragment}
- æ–¹å·®åˆ†æ
- éå‚æ•°æ£€éªŒ
- Lasso
- SEM
- å€¾å‘å€¼åŒ¹é…
:::

:::{.column width="70%" .fragment}
åäº‹å®åˆ†æï¼ˆcounterfactual analysis)

- å®éªŒ
- è§‚å¯Ÿæ•°æ®
    - Difference in difference
    - Regression discontinuity
    - Counterfactual estimators (FEct, IFEct, MC)/ synthetic control
    - Regression ([Huh?]{.red})
:::
::::

:::{.notes}
Liu, Licheng, Ye Wang, and Yiqing Xu. 2022. â€œA Practical Guide to Counterfactual Estimators for Causal Inference with Time-Series Cross-Sectional Data.â€ American Journal of Political Science n/a(n/a): Online.

- fixed effects counterfactual (FEct) estimator
- interactive fixed effects counterfactual (IFEct) estimator
- matrix completion (MC) estimator.
:::


## Wrap Up

ç ”ç©¶è®¾è®¡åŸåˆ™

1. ç§‘å­¦ï¼šä¿¡ä»° + ç¨‹åº + æ–¹æ³•
1. æ­¥éª¤ï¼šé—®é¢˜å¯¼å‘ or æ•°æ®å¯¼å‘
1. å½¢å¼ï¼šæè¿° and/or æœºåˆ¶


# æ•°æ®æ”¶é›†åŸåˆ™

## å¤§æ•°æ®è¿·æ€

:::{.fragment style="text-align:center; margin-top: 1em"}
â€œæ¯æ—¥ä¸Šäº¿æ¡â€

â€œå…¨ç½‘æ•°æ®â€

â€œã€Šäººæ°‘æ—¥æŠ¥ã€‹æ‰€æœ‰æ–‡ç« â€
:::

:::{.fragment .r-fit-text}
å¤§æ•°æ®[ä¸æ˜¯]{.red}å…¨æ•°æ®
:::

:::{.fragment .r-fit-text}
å…¨æ•°æ®[ä¸ä¸€å®šæ˜¯]{.red}å¥½æ•°æ®
:::

:::{.notes}
1. è´µ
1. æ²¡å¿…è¦
1. å¯ä¿¡åº¦å‘ˆç–‘
:::

## æŠ½æ ·

ä»[ä¸€å¤§å †]{.blue}åˆ°[ä¸€å°æ’®]{.red} &rArr; ä»£è¡¨æ€§


:::{.notes}
éšæœºæŠ½æ ·çš„ä»£è¡¨æ€§ä½“ç°åœ¨ä¸€å®šçš„sample sizeä¸Š
:::


::::{.columns}
:::{.column width="50%" .fragment}
**ç®€å•éšæœºæŠ½æ ·**

+ SHAç®—æ³•å’ŒMD5
+ è®¡ç®—æœºéšæœºæ•°
:::

:::{.notes}
è®¡ç®—æœºä¼ªéšæœºæ•°

çœŸéšæœºæ•°ï¼šç‰©ç†ç°è±¡ï¼Œå¦‚å†…å­˜ã€ç¡¬ä»¶ã€å™ªéŸ³
:::

:::{.column width="50%" .fragment}
**å¤æ‚æŠ½æ ·**

*è®¾è®¡*

+ é…é¢ï¼ˆquotaï¼‰
+ åˆ†ç»„ï¼ˆclusteringï¼‰
+ åˆ†å±‚ï¼ˆstratificationï¼‰

*çŸ«æ­£*

+ æœ‰é™æ€»ä½“æ ¡æ­£ï¼ˆfinite population corrections, FPCï¼‰
+ ä¸ç›¸ç­‰æƒé‡ï¼ˆunequal weightsï¼‰
:::
::::



## å¤æ‚æŠ½æ ·

::::{.columns}
:::{.column width="60%" .fragment}
![](https://drhuyue.site:10002/sammo3182/figure/stat_stratifiedCluster.png){height=500 style="text-align: center"}

:::{.notes}
Stratification: åˆ†ç±»ï¼Œæ¯ç±»ä¸­éšæœºæŠ½å–ï¼Œæ¯ç±»æˆå‘˜åœ¨æ€»ä½“ä¸­é…æ¯”ä¸å˜        
Clusteringï¼šç›´æ¥éšæœºæŠ½å–ä¸€ç±»        
Quotaï¼šæˆåˆ†é…æ¯”å¤Ÿå°±è¡Œï¼Œä¸ç”¨éšæœº
:::
:::

:::{.column width="40%" .fragment}
![](https://drhuyue.site:10002/sammo3182/figure/stat_quota.png){height=500 style="text-align: center"}
:::
::::

## å¸¸è§è®¾è®¡

S + W + (FPC)

::::{.columns}
:::{.column width="40%" .fragment}


- Strata
    - å‡å°‘ç‚¹ä¼°è®¡çš„æ ‡å‡†è¯¯ï¼›
    - ä¸åŒå±‚æŠ½æ ·æƒé‡ä¸ç­‰;
    - PSU/SSU/TSU
:::

:::{.notes}
PSU: primary sampling unit    
SSU: secondary sampling unit    
TSU: tertiary sampling unit
:::


:::{.column width="60%" .fragment}
- Weight
    + æ ·æœ¬å…¥é€‰æ¦‚ç‡çš„å€’æ•°ï¼›
    + å„æŠ½æ ·é˜¶æ®µæƒé‡çš„ä¹˜ç§¯ï¼›
    + æŠ½æ ·æƒé‡åœ¨æ€»ä½“å±‚é¢æ˜¯ç­‰æ¦‚ç‡çš„ï¼Œä½†åœ¨ä¸ªä½“å±‚é¢æ˜¯éç­‰æ¦‚ï¼›å½±å“ç‚¹ä¼°è®¡çš„è®¡ç®—
:::


:::{.notes}
$FPC = \sqrt{(N-n)/(N-1)}$, 

N = population size   
n = sample size.

ä¿®æ­£ä¼°è®¡ç»“æœ$s = \frac{\sigma}{\sqrt{n}}\sqrt{(N-n)/(N-1)}.$

Finite Population Correction is used when you sample without replacement from more than 5% of a finite population, leading to more uncertainty. 

å½“sampling å¤§äºpopulationçš„5%æ—¶ä½¿ç”¨

For example, if you have selected 200 goldfish out of a population of 1000, the reciprocal of the likelihood of being selected is 1000/200, so the sampling weight for the goldfish would be 5
:::
::::


## åæœ

- Stratification &rarr; å±‚é—´æ–¹å·®ä¸é½;
- Clustering &rarr; ç¾¤ç»„é—´æ–¹å·®ä¸é½ï¼Œç¾¤ç»„å†…ä¸ç‹¬ç«‹;
- Weighting &rarr; æŸäº›ç‰¹å¾åˆ†å¸ƒä¸æ€»ä½“ä¸ä¸€è‡´.


:::{.fragment style="text-align:center; margin-top: 1em"}
[å¤æ‚æŠ½æ ·æ˜¯[ä¸å¾—å·²è€Œä¸ºä¹‹]{.red}]
:::

:::{.fragment}
**åæ‹›**

Post-collection correction &rarr; æŠŠæƒé‡çº³å…¥åˆ†æ
:::




## Correct how?

[Behavioral Risk Factor Surveillance System (BRFSS) ](https://www.cdc.gov/brfss/smart/smart_2011.htm) 
County data by US Centers of Disease Control and Prevention (CDC)

```{r survey-example}
#| include: false
#| eval: false


brfss_11 <- Hmisc::sasxport.get("D:/Desktop/CNTY2011.xpt")

brfss_11 <- haven::read_sas("data/CNTY11_SASOUT.SAS")

library(car)

nams<-names(brfss_11)

#we see some names are lower case, some are upper and some have a little _ in the first position. This is a nightmare.
newnames <- gsub(pattern = "_",
                 replacement =  "",
                 x =  nams)
names(brfss_11) <- tolower(newnames)

#Poor or fair self rated health
brfss_11$badhealth <- ifelse(brfss_11$genhlth %in% c(4, 5), 1, 0)

#race/ethnicity
brfss_11$black <-
  recode(brfss_11$racegr2, recodes = "2=1; 9=NA; else=0")
brfss_11$white <-
  recode(brfss_11$racegr2, recodes = "1=1; 9=NA; else=0")
brfss_11$other <-
  recode(brfss_11$racegr2, recodes = "3:4=1; 9=NA; else=0")
brfss_11$hispanic <-
  recode(brfss_11$racegr2, recodes = "5=1; 9=NA; else=0")

#insurance
brfss_11$ins <- ifelse(brfss_11$hlthpln1 == 1, 1, 0)

#income grouping
brfss_11$inc <- ifelse(brfss_11$x.incomg == 9, NA, brfss_11$x.incomg)

#education level
brfss_11$educ <-
  recode(brfss_11$educa,
         recodes = "1:2='0Prim'; 3='1somehs'; 4='2hsgrad'; 5='3somecol'; 6='4colgrad';9=NA",
         as.factor = T)
brfss_11$educ <- relevel(brfss_11$educ, ref = '2hsgrad')

#employment
brfss_11$employ <-
  recode(brfss_11$employ,
         recodes = "1:2='Employed'; 2:6='nilf'; 7='retired'; 8='unable'; else=NA",
         as.factor = T)
brfss_11$employ <- relevel(brfss_11$employ, ref = 'Employed')

#marital status
brfss_11$marst <-
  recode(brfss_11$marital,
         recodes = "1='married'; 2='divorced'; 3='widowed'; 4='separated'; 5='nm';6='cohab'; else=NA",
         as.factor = T)
brfss_11$marst <- relevel(brfss_11$marst, ref = 'married')

#Age cut into intervals
brfss_11$agec <- cut(brfss_11$age, breaks = c(0, 24, 39, 59, 79, 99))

#BMI, in the brfss_11a the bmi variable has 2 implied decimal places, so we must divide by 100 to get real bmi's
brfss_11$bmi <- brfss_11$x.bmi5 / 100

library(dplyr)

brfss_11 <- select(brfss_11, badhealth, black, white, other, hispanic, ins, inc, educ, employ, marst, agec, bmi, x.ststr, x.cntywt) %>% 
  rename(ststr = x.ststr, cntywt = x.cntywt)

saveRDS(brfss_11, "data/brfss_11.Rds")
```

Set the survey conditions

```{r survey-analysis}
brfss_11 <- readRDS("data/brfss_11.Rds")

library(survey)

options(survey.lonely.psu = "adjust")

des <-
  svydesign(
    ids =  ~ 1,
    strata =  ~ ststr,
    weights =  ~ cntywt,
    data = brfss_11[is.na(brfss_11$cntywt) == F, ] # non-missing case weights
  )
```

:::{.fragment}
No weight

```{r describe_nw}
library(questionr)

prop.table(table(brfss_11$badhealth,
                 brfss_11$educ),
           margin = 2)
```
:::


:::{.fragment}
Weighed

```{r describe_wt}
prop.table(wtd.table(brfss_11$badhealth,
                     brfss_11$educ,
                     weights = brfss_11$cntywt),
           margin = 2)
```
:::



## åˆ†æå·®å¼‚

```{r survey-ols}
raw <- lm(bmi ~ educ + agec, data = brfss_11)
freqW <- lm(bmi ~ educ + agec, data = brfss_11, weights = cntywt)
surveyW <- svyglm(bmi ~ educ + agec, des, family = gaussian)
```

```{r survey-ols-plot}
#| echo: false
#| fig.align: center
#| out-height: 100%

library(dotwhisker)

dwplot(list(
  NoWeight = raw,
  FreqWeight = freqW,
  SurveyWeight = surveyW
), show_stats = TRUE
)
```


:::{.notes}
survey weight is using the inverse-probability weighting
:::

## Wrap Up

+ ä»£è¡¨æ€§ &rarr; æŠ½æ ·
    + ç®€å•æŠ½æ ·
    + å¤æ‚æŠ½æ ·
+ å¤æ‚æŠ½æ ·æ­¥éª¤
    + åˆ†é…é¢/å±‚/ç¾¤
    + æƒé‡
+ å¤æ‚æŠ½æ ·åˆ†æï¼šè€ƒè™‘æƒé‡


# æ•°æ®åˆ†æåŸåˆ™


---

:::{.r-fit-text style="text-align:center; margin-top: 2em"}
ç»Ÿè®¡å­¦ vs. è®¡é‡ç»æµå­¦

Statistics vs. Econometrics
:::

:::{.notes}
ç»“æœå‡†

æ–¹å‘å¯¹
:::

## ç»Ÿè®¡å­¦

::::{.columns}
:::{.column width="30%" .fragment}
*åˆ†ç±»I*

* ç†è®ºç»Ÿè®¡å­¦
* åº”ç”¨ç»Ÿè®¡å­¦

*åˆ†ç±»II*

* æè¿°ç»Ÿè®¡
* æ¨æ–­ç»Ÿè®¡
:::

:::{.column width="70%" .fragment}
![](https://drhuyue.site:10002/sammo3182/figure/stat_statProcess.png){height=600}
:::
::::

:::{.notes}
ç ”ç©¶ç»Ÿè®¡å­¦çš„ä¸€èˆ¬ç†è®ºï¼›ç ”ç©¶ç»Ÿè®¡æ–¹æ³•çš„æ•°å­¦åŸç†

ç ”ç©¶ç»Ÿè®¡æ–¹æ³•åœ¨å…·ä½“é¢†åŸŸä¸­çš„åº”ç”¨
:::


## å¸¸ç”¨æ¦‚å¿µ

![](https://drhuyue.site:10002/sammo3182/figure/stat_concepts.png){fig-align="center" height=600}

## æ¦‚å¿µè¾¨æ

::::{.columns}
:::{.column width="50%" .fragment}
**æ•°æ®**

- æ€»ä½“ vs. æ ·æœ¬
- æŠ½æ ·è¯¯å·®

**åˆ†æ**

- å‚æ•° vs. ç³»æ•°
- æœŸæœ›
- ä¸ç¡®å®šæ€§

:::{.notes}
* æ€»ä½“ï¼šåœ¨ç†è®ºä¸Šæ˜ç¡®ç•Œå®šçš„ä¸ªä½“å…¨éƒ¨é›†åˆã€‚
* æ ·æœ¬ï¼šä»æ€»ä½“ä¸­æŒ‰ç…§ä¸€å®šè§„åˆ™å’Œç¨‹åºæŠ½å‡ºæ¥çš„ä¸ªä½“çš„é›†åˆï¼Œæ˜¯æ€»ä½“ä¸€ä¸ªå­é›†ã€‚


* æŠ½æ ·è¯¯å·®: ç”¨æ ·æœ¬çš„ç»Ÿè®¡å€¼å»æ¨ç®—æ€»ä½“çš„å‚æ•°å€¼æ—¶æ€»ä¼šæœ‰å·®å¼‚ï¼Œè¿™ä¸ªå·®å¼‚å°±æ˜¯æŠ½æ ·è¯¯å·®ã€‚


* å‚æ•°ï¼šæ¦‚æ‹¬æ€»ä½“ç‰¹å¾çš„æµ‹åº¦å€¼ã€‚
* ç³»æ•°ï¼ˆç»Ÿè®¡é‡ï¼‰ï¼šæ¦‚æ‹¬æ ·æœ¬ç‰¹å¾çš„æµ‹åº¦å€¼ã€‚

* æœŸæœ›å€¼: $E(X) = \sum Xp$
* ä¸å¯ç¡®å®šæ€§ï¼š æè¿°æ•°æ®çš„ç¦»æ•£è¶‹åŠ¿
    + Variance: $\sigma^2 = \sum(X - \mu)^2p(X)$
    + Standard deviation: $\sigma$
:::

:::


:::{.column width="50%" .fragment}
**ææ–™**

- æ•°æ®
- [å˜é‡]{.red}ã€å˜é‡å€¼ã€ç¼ºå¤±å€¼

**æµ‹é‡**

- å®šç±»
- å®šåº
- å®šè·
- å®šæ¯”

:::{.notes}
1. å®šç±»ï¼šæ¯ä¸€ç§ä¸åŒçš„æ•°å­—æˆ–ç¬¦å·ä»£è¡¨ç€ä¸åŒçš„ç±»åˆ«æˆ–æ ‡è®°ã€‚å®šç±»æ•°æ®åªæœ‰ç±»åˆ«å±æ€§ä¹‹åˆ†ï¼Œ æ— å¤§å°ã€ç¨‹åº¦ä¹‹åˆ†ã€‚

1. å®šåºï¼šæ¯ä¸€ç§æ•°å­—æˆ–ç¬¦å·ä»£è¡¨ç€äº‹ç‰©çš„ç­‰çº§å¤§å°ã€é«˜ä½ã€å…ˆåçš„æ¬¡åºã€‚

1. å®šè·ï¼šæ¯ä¸€ç§æ•°å­—æˆ–ç¬¦å·ä»£è¡¨ç€äº‹ç‰©çš„é‡çš„é—´è·ã€‚å®šè·æ•°æ®æ²¡æœ‰ç»å¯¹çš„é›¶ç‚¹ï¼Œä¾‹å¦‚ï¼Œæ¸©åº¦ã€æ™ºå•†ï¼Œå…¶ä¸­çš„â€œé›¶â€åªæ˜¯ä¸€ä¸ªç›¸å¯¹ä½ç½®ï¼Œä¸ä»£è¡¨â€œæ²¡æœ‰â€ã€‚

1. å®šæ¯”ï¼šæ¯ä¸€ç§æ•°å­—æˆ–ç¬¦å·ä»£è¡¨ç€äº‹ç‰©çš„æ‰€æœ‰ç®—æœ¯ç‰¹å¾ã€‚å…¶å–å€¼é™¤äº†å…·æœ‰ç±»åˆ«ã€æ¬¡åºã€é—´è·çš„å±æ€§ä»¥å¤–ï¼Œè¿˜å¯ä»¥æ„æˆä¸€ä¸ªæœ‰æ„ä¹‰çš„æ¯”ç‡ï¼Œå…¶ä¸­çš„â€œé›¶â€ è¡¨ç¤ºçœŸæ­£çš„â€œä¸€æ— æ‰€æœ‰â€ ã€‚


ä¾‹å­ï¼š

feeling thermometer: 0-200ï¼Œå†·æ·¡åˆ°çƒ­æƒ…, 0æ˜¯éå¸¸æç«¯çš„æƒ…ç»ªï¼Œä¸ä»£è¡¨æ²¡æœ‰
-100-0-100ï¼Œ 0ä»£è¡¨0çš„æ„æ€ï¼Œratio æ˜¯å”¯ä¸€ä¸€ç§scaleå¯ä»¥è¡¨ç¤ºmeaningful ratio

åœ¨-100-0-100ï¼ŒæŒ‰10ï¼Œ30 ï¼ˆ1ï¼š3ï¼‰å–å€¼ï¼Œæ”¾å›0-200ï¼Œ110:130, ä¸æ˜¯ratio
:::

:::
::::



## ç»ƒä¹  I 

> ç ”ç©¶è€…æƒ³äº†è§£å…¨å¸‚å±…æ°‘ä¸Šä¸ªæœˆçš„å¹³å‡é€šè®¯æ”¯å‡ºæ˜¯å¤šå°‘å…ƒï¼Œä¸ºæ­¤éšæœºæŠ½å–äº†1800ä¸ªå±…æ°‘è¿›è¡Œäº†è®¿é—®ï¼Œå¾—åˆ°äº†è¿™äº›å±…æ°‘ä¸Šä¸ªæœˆçš„å¹³å‡é€šè®¯æ”¯å‡ºã€‚

:::{.large style="text-align:center; margin-top: 2em"}
é—®é¢˜ï¼šæ€»ä½“ã€æ ·æœ¬ã€å‚æ•°ã€ç³»æ•°ï¼Ÿ
:::



## ç»ƒä¹  II

> è°ƒæŸ¥å‘ç°ï¼šäººä»¬å¯¹å¸‚æ”¿åºœå·¥ä½œçš„æ»¡æ„åº¦ï¼Œåœ¨ä¸åŒå¹´é¾„ã€æ•™è‚²æ°´å¹³ã€æ”¶å…¥ã€èŒä¸šï¼Œä»¥ åŠä¸åŒæˆ·å£äººç¾¤ä¸­æœ‰æ˜¾è‘—çš„å·®å¼‚ã€‚


:::{.large style="text-align:center; margin-top: 2em"}
é—®é¢˜ï¼šä¸Šè¿°è¿™æ®µæè¿°ä¸­æåˆ°äº†å‡ ä¸ªå˜é‡ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Ÿ
:::



## ï¼ˆå˜é‡ï¼‰æµ‹é‡ç±»å‹

::::{.columns}
:::{.column width=50%}
ç›´æ¥ï¼ˆRaw dataï¼‰

æ•´åˆï¼ˆAggregated dataï¼‰

æ½œåœ¨ (Latent measurement)

* ç»å…¸ï¼šFactor analysis
* æ–°é”ï¼šIRT
* å…¨é¢ï¼šSEM
:::

:::{.column width=50% .fragment}
æ•°æ®ï¼š

1. å˜é‡ï¼ˆvariablesï¼‰
1. è§‚æµ‹å±‚çº§ (unit of analysis)
1. è§‚æµ‹å¯¹è±¡ï¼ˆobservationsï¼‰
:::
::::

## ç»“æ„åŒ–æ•°æ®

Tidy version

![](https://drhuyue.site:10002/sammo3182/figure/stat_tidydata.png){height=600}


## æ•°æ® &rarr; å¾ˆå¤šæ•°æ®

::::{.columns}
:::{.column width=50%}
*é¢æ¿æ•°æ®*

å¥½

(æˆæœ¬é«˜ï¼Œæ ·æœ¬å±€é™å¤§ğŸ™„)
:::

:::{.notes}

åŠ¨æ€åˆ†æ

å¯¹æ¯”æ€§é«˜
:::

:::{.column width=50% .fragment}
*é‡å¤æŠ½æ ·æ•°æ®*

* å‘¨æœŸæ€§è°ƒæŸ¥
* æ¯æ¬¡éšæœº
* æ—¶åºæ€§ä¿¡æ¯
* e.g., WVS, DCPO, Global barometers, CGSS, CFPS, CEPS, CLDS, CUGS, CHFS, GSS, CESS...


* å‘ˆç°ç¤¾ä¼šã€æ”¿æ²»ã€ç»æµç°è±¡çš„å˜åŒ–[è¶‹åŠ¿]{.red}
* æ¢ç´¢ç‰¹å®š[äººç¾¤(Cohort)]{.red}ç¤¾ä¼šè¡Œä¸ºä¸æ€åº¦çš„å˜è¿æ¨¡å¼
* é€‚ç”¨äºè¯†åˆ«[è‡ªç„¶å®éªŒ]{.red}çš„æ•ˆåº”
:::
::::


## æ•°æ®åˆ†æ

::::{.columns}
:::{.column width=30% .fragment}
*æè¿°æ€§åˆ†æ*

+ è§£è¯»æ•°æ®ç»“æ„
+ æ˜¾ç¤ºã€ç†è§£å˜åŒ–è¶‹åŠ¿
:::

:::{.column width=30% .fragment}
*æ¯”è¾ƒåˆ†æ*

+ è·¨å±‚çº§åˆ†æ
+ è·¨æ—¶é—´åˆ†æ
+ è·¨åŒºåŸŸåˆ†æ
:::


:::{.column width=30% .fragment}
*æ€»ä½“åˆ†æ*

+ å¯¹æ ¸å¿ƒå˜é‡ä¸€èˆ¬è¡¨ç°çš„è¡¡é‡
+ ä¸æ¯”è¾ƒåˆ†æä¸åˆ†å…ˆå
:::
::::

:::{.fragment  style="text-align:center; margin-top: 1em"}
**æ•°æ®åˆ†æå·¥å…·**

* åˆ†æè½¯ä»¶ï¼šSTATA, SAS, SPSS, EXCEL
* ç¼–ç¨‹è¯­è¨€ï¼šR, Python, Matlab, JAVA, C++
:::


## ä¸¾ä¾‹ï¼šçˆ±å›½ä¸»ä¹‰æ•™è‚²åŸºåœ°

::::{.columns}
:::{.column width=50% .fragment}
*æè¿°åˆ†æ*

![](https://drhuyue.site:10002/sammo3182/figure/stat_patrioBase9705.gif){height=550}
:::

:::{.column width=50% .fragment}
*æ€»ä½“æ¯”è¾ƒåˆ†æ*

![](https://drhuyue.site:10002/sammo3182/figure/stat_loyal.png){height=550}
:::
::::



## Wrap Up

- ç»Ÿè®¡/è®¡é‡

- å˜é‡
    - æµ‹é‡ç±»å‹
    - æµ‹é‡æ‰‹æ®µ

- æ•°æ®ï¼ˆtidy versionï¼‰

- é¢æ¿æ•°æ®/é‡å¤æŠ½æ ·æ•°æ®

- æ•°æ®åˆ†æå·¥å…·
